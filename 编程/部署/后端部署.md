# ğŸš€ Javaåç«¯éƒ¨ç½²åˆ°æœåŠ¡å™¨è¯¦ç»†æ•™ç¨‹

## ğŸ“‹ å‰ææ¡ä»¶ç¡®è®¤

**å·²çŸ¥ä¿¡æ¯ï¼š**
- Pythonè„šæœ¬ç›®å½•ï¼š`/data/mingtai/python`
- é¡¹ç›®ï¼šRuoYi-Vueï¼ˆSpring Bootåç«¯ï¼‰
- éœ€è¦ï¼šè°ƒç”¨Pythonè„šæœ¬ç”ŸæˆExcel

---

## ç¬¬ä¸€æ­¥ï¼šä¿®æ”¹Javaä»£ç ï¼ˆæœ¬åœ°æ“ä½œï¼‰âš™ï¸

### 1.1 ä¿®æ”¹Pythonè„šæœ¬è°ƒç”¨è·¯å¾„

åœ¨ä½ çš„ `ProjectInfoServiceImpl.java` ä¸­ï¼Œéœ€è¦æ·»åŠ æˆ–ä¿®æ”¹è°ƒç”¨Pythonè„šæœ¬çš„ä»£ç ã€‚

æ‰¾åˆ° `createCesuanbiao` æ–¹æ³•ï¼ˆå¤§çº¦1479è¡Œï¼‰ï¼Œåœ¨æ–¹æ³•æœ€åæ·»åŠ Pythonè„šæœ¬è°ƒç”¨ï¼š

```java
public void createCesuanbiao(ProjectInfo projectInfo, int type) {
    // ... åŸæœ‰çš„Excelç”Ÿæˆä»£ç  ...
    
    // åœ¨æ–¹æ³•æœ€åæ·»åŠ ï¼šè°ƒç”¨Pythonè„šæœ¬è¿›ä¸€æ­¥å¤„ç†
    try {
        executePythonScript(projectInfo.getId());
    } catch (Exception e) {
        System.err.println("Pythonè„šæœ¬æ‰§è¡Œå¤±è´¥: " + e.getMessage());
        e.printStackTrace();
    }
}

/**
 * è°ƒç”¨Pythonè„šæœ¬ç”Ÿæˆæœ€ç»ˆçš„Excelæ–‡ä»¶
 * @param projectId é¡¹ç›®ID
 */
private void executePythonScript(Long projectId) throws Exception {
    String pythonScriptPath = "/data/mingtai/python";
    String shellScript = pythonScriptPath + "/generate_excel.sh";
    
    ProcessBuilder processBuilder = new ProcessBuilder();
    processBuilder.command(
        "/bin/bash",
        shellScript,
        String.valueOf(projectId)
    );
    
    processBuilder.directory(new File(pythonScriptPath));
    
    // è®¾ç½®ç¯å¢ƒå˜é‡ï¼ˆå¦‚æœPythonéœ€è¦ï¼‰
    Map<String, String> env = processBuilder.environment();
    env.put("PYTHONPATH", pythonScriptPath);
    
    Process process = processBuilder.start();
    
    // è¯»å–æ ‡å‡†è¾“å‡º
    BufferedReader reader = new BufferedReader(
        new InputStreamReader(process.getInputStream())
    );
    
    StringBuilder output = new StringBuilder();
    String line;
    while ((line = reader.readLine()) != null) {
        output.append(line).append("\n");
        System.out.println("[Python] " + line);
    }
    
    // è¯»å–é”™è¯¯è¾“å‡º
    BufferedReader errorReader = new BufferedReader(
        new InputStreamReader(process.getErrorStream())
    );
    
    StringBuilder errorOutput = new StringBuilder();
    while ((line = errorReader.readLine()) != null) {
        errorOutput.append(line).append("\n");
        System.err.println("[Python Error] " + line);
    }
    
    int exitCode = process.waitFor();
    
    if (exitCode != 0) {
        throw new RuntimeException("Pythonè„šæœ¬æ‰§è¡Œå¤±è´¥ï¼Œé€€å‡ºç : " + exitCode + 
            "\nè¾“å‡º: " + output.toString() + 
            "\né”™è¯¯: " + errorOutput.toString());
    }
    
    System.out.println("Pythonè„šæœ¬æ‰§è¡ŒæˆåŠŸï¼Œé¡¹ç›®ID: " + projectId);
}
```

### 1.2 ä¿®æ”¹ç”Ÿäº§ç¯å¢ƒé…ç½®æ–‡ä»¶

æ‰“å¼€ `ruoyi-admin/src/main/resources/application-prod.yml`ï¼š

```yaml
# æœåŠ¡å™¨é…ç½®
server:
  port: 8080
  servlet:
    context-path: /
    
# æ•°æ®æºé…ç½®ï¼ˆæ ¹æ®ä½ çš„å®é™…æƒ…å†µä¿®æ”¹ï¼‰
spring:
  datasource:
    driver-class-name: com.mysql.cj.jdbc.Driver
    url: jdbc:mysql://localhost:3306/ry-vue?useUnicode=true&characterEncoding=utf8&zeroDateTimeBehavior=convertToNull&useSSL=true&serverTimezone=GMT%2B8
    username: root
    password: your_mysql_password  # æ”¹æˆä½ çš„MySQLå¯†ç 
    
  # Redisé…ç½®
  redis:
    host: localhost
    port: 6379
    password:   # å¦‚æœRedisæœ‰å¯†ç ï¼Œåœ¨è¿™é‡Œå¡«å†™
    database: 0
    timeout: 10s
    lettuce:
      pool:
        min-idle: 0
        max-idle: 8
        max-active: 8
        max-wait: -1ms

# æ–‡ä»¶ä¸Šä¼ è·¯å¾„ï¼ˆæ”¹ä¸ºæœåŠ¡å™¨è·¯å¾„ï¼‰
ruoyi:
  # æ–‡ä»¶è·¯å¾„ï¼šæœåŠ¡å™¨ä¸Šçš„å®é™…è·¯å¾„
  profile: /data/mingtai/uploadPath
  
  # æ˜¯å¦å¼€å¯ç”¨æˆ·æ³¨å†ŒåŠŸèƒ½
  user:
    password:
      maxRetryCount: 5
      lockTime: 10

# æ—¥å¿—é…ç½®
logging:
  level:
    com.ruoyi: info
    org.springframework: warn
  file:
    name: /data/mingtai/logs/ruoyi.log
```

### 1.3 æœ¬åœ°æ‰“åŒ…é¡¹ç›®

```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œ
cd /Users/oxy/Documents/program/CompanyProjects/zhuanxiangzhai-master/RuoYi-Vue-master

# æ¸…ç†å¹¶æ‰“åŒ…ï¼ˆè·³è¿‡æµ‹è¯•ï¼‰
mvn clean package -DskipTests -P prod

# ç­‰å¾…æ‰“åŒ…å®Œæˆï¼ŒæˆåŠŸåä¼šæ˜¾ç¤ºï¼š
# [INFO] BUILD SUCCESS
```

æ‰“åŒ…æˆåŠŸåï¼ŒjaråŒ…ä½ç½®ï¼š
```
ruoyi-admin/target/ruoyi-admin.jar
```

---

## ç¬¬äºŒæ­¥ï¼šå‡†å¤‡æœåŠ¡å™¨ç¯å¢ƒ ğŸ–¥ï¸

### 2.1 è¿æ¥åˆ°æœåŠ¡å™¨

```bash
ssh root@your-server-ip
# æˆ–
ssh your_username@your-server-ip
```

### 2.2 æ£€æŸ¥æœåŠ¡å™¨å·²æœ‰ç¯å¢ƒ

```bash
# æ£€æŸ¥Javaç‰ˆæœ¬ï¼ˆéœ€è¦Java 11æˆ–ä»¥ä¸Šï¼‰
java -version

# å¦‚æœæ²¡æœ‰Javaæˆ–ç‰ˆæœ¬è¿‡ä½ï¼Œå®‰è£…Java 11
sudo yum install java-11-openjdk java-11-openjdk-devel -y

# å†æ¬¡éªŒè¯
java -version
```

### 2.3 æ£€æŸ¥MySQLæ˜¯å¦è¿è¡Œ

```bash
# æ£€æŸ¥MySQLçŠ¶æ€
sudo systemctl status mysqld

# å¦‚æœæœªè¿è¡Œï¼Œå¯åŠ¨MySQL
sudo systemctl start mysqld
sudo systemctl enable mysqld

# æµ‹è¯•MySQLè¿æ¥
mysql -uroot -p
# è¾“å…¥å¯†ç åï¼Œå¦‚æœèƒ½è¿›å…¥MySQLå‘½ä»¤è¡Œï¼Œè¯´æ˜æ­£å¸¸
```

### 2.4 æ£€æŸ¥Redisæ˜¯å¦è¿è¡Œ

```bash
# æ£€æŸ¥RedisçŠ¶æ€
sudo systemctl status redis

# å¦‚æœæœªè¿è¡Œï¼Œå¯åŠ¨Redis
sudo systemctl start redis
sudo systemctl enable redis

# æµ‹è¯•Redis
redis-cli ping
# åº”è¯¥è¿”å›ï¼šPONG
```

### 2.5 åˆ›å»ºé¡¹ç›®ç›®å½•

```bash
# åˆ›å»ºåº”ç”¨ç›®å½•
sudo mkdir -p /data/mingtai/app
sudo mkdir -p /data/mingtai/uploadPath
sudo mkdir -p /data/mingtai/logs

# åˆ›å»ºä¸´æ—¶ç›®å½•ï¼ˆç”¨äºå­˜æ”¾åŸå§‹jaråŒ…ï¼‰
sudo mkdir -p /data/mingtai/temp

# è®¾ç½®æƒé™
sudo chmod -R 755 /data/mingtai
```

### 2.6 ç¡®è®¤Pythonç¯å¢ƒ

```bash
# æ£€æŸ¥Pythonè„šæœ¬ç›®å½•
ls -la /data/mingtai/python

# æµ‹è¯•Pythonè„šæœ¬ï¼ˆå¦‚æœæœ‰æµ‹è¯•è„šæœ¬ï¼‰
cd /data/mingtai/python
python3 --version

# ç¡®ä¿è„šæœ¬æœ‰æ‰§è¡Œæƒé™
chmod +x /data/mingtai/python/*.sh
```

---

## ç¬¬ä¸‰æ­¥ï¼šä¸Šä¼ æ–‡ä»¶åˆ°æœåŠ¡å™¨ ğŸ“¤

### 3.1 ä¸Šä¼ jaråŒ…

åœ¨**æœ¬åœ°ç»ˆç«¯**æ‰§è¡Œï¼š

```bash
# ä¸Šä¼ jaråŒ…
scp ruoyi-admin/target/ruoyi-admin.jar root@your-server-ip:/data/mingtai/temp/

# å¦‚æœæç¤ºè¾“å…¥å¯†ç ï¼Œè¾“å…¥æœåŠ¡å™¨å¯†ç 
```

### 3.2 ä¸Šä¼ SQLæ–‡ä»¶ï¼ˆå¦‚æœæ•°æ®åº“è¿˜æ²¡å¯¼å…¥ï¼‰

```bash
# ä¸Šä¼ SQLæ–‡ä»¶
scp sql/ry_20240629.sql root@your-server-ip:/data/mingtai/temp/
scp sql/quartz.sql root@your-server-ip:/data/mingtai/temp/
```

---

## ç¬¬å››æ­¥ï¼šåœ¨æœåŠ¡å™¨ä¸Šé…ç½®æ•°æ®åº“ ğŸ—„ï¸

### 4.1 ç™»å½•MySQL

```bash
# SSHåˆ°æœåŠ¡å™¨åæ‰§è¡Œ
mysql -uroot -p
```

### 4.2 åˆ›å»ºæ•°æ®åº“ï¼ˆå¦‚æœè¿˜æ²¡æœ‰ï¼‰

```sql
-- åˆ›å»ºæ•°æ®åº“
CREATE DATABASE IF NOT EXISTS `ry-vue` 
DEFAULT CHARACTER SET utf8mb4 
COLLATE utf8mb4_general_ci;

-- æŸ¥çœ‹æ•°æ®åº“
SHOW DATABASES;

-- é€€å‡º
exit;
```

### 4.3 å¯¼å…¥SQLæ•°æ®

```bash
# å¯¼å…¥ä¸»SQLæ–‡ä»¶
mysql -uroot -p ry-vue < /data/mingtai/temp/ry_20240629.sql

# å¯¼å…¥å®šæ—¶ä»»åŠ¡SQL
mysql -uroot -p ry-vue < /data/mingtai/temp/quartz.sql

# éªŒè¯å¯¼å…¥
mysql -uroot -p ry-vue -e "SHOW TABLES;"
```

---

## ç¬¬äº”æ­¥ï¼šéƒ¨ç½²Javaåº”ç”¨ â˜•

### 5.1 ç§»åŠ¨jaråŒ…åˆ°åº”ç”¨ç›®å½•

```bash
# ç§»åŠ¨jaråŒ…
sudo mv /data/mingtai/temp/ruoyi-admin.jar /data/mingtai/app/

# è®¾ç½®æ‰§è¡Œæƒé™
sudo chmod +x /data/mingtai/app/ruoyi-admin.jar

# éªŒè¯
ls -lh /data/mingtai/app/ruoyi-admin.jar
```

### 5.2 æµ‹è¯•å¯åŠ¨ï¼ˆå‰å°è¿è¡Œï¼Œå…ˆä¸è¦è®¾ç½®åå°ï¼‰

```bash
cd /data/mingtai/app

# å‰å°å¯åŠ¨ï¼ŒæŸ¥çœ‹æ˜¯å¦æœ‰é”™è¯¯
java -jar ruoyi-admin.jar --spring.profiles.active=prod
```

**è§‚å¯Ÿè¾“å‡ºï¼š**
- âœ… å¦‚æœçœ‹åˆ° `Started RuoYiApplication in xxx seconds`ï¼Œè¯´æ˜å¯åŠ¨æˆåŠŸ
- âŒ å¦‚æœæœ‰é”™è¯¯ï¼Œè®°å½•é”™è¯¯ä¿¡æ¯ï¼Œéœ€è¦å…ˆè§£å†³

**å¸¸è§å¯åŠ¨é—®é¢˜ï¼š**

1. **æ•°æ®åº“è¿æ¥å¤±è´¥**
```bash
# æ£€æŸ¥MySQLæ˜¯å¦è¿è¡Œ
sudo systemctl status mysqld

# æ£€æŸ¥æ•°æ®åº“ç”¨æˆ·æƒé™
mysql -uroot -p
GRANT ALL PRIVILEGES ON `ry-vue`.* TO 'root'@'localhost' IDENTIFIED BY 'your_password';
FLUSH PRIVILEGES;
```

2. **Redisè¿æ¥å¤±è´¥**
```bash
# æ£€æŸ¥Redisæ˜¯å¦è¿è¡Œ
sudo systemctl status redis
redis-cli ping
```

3. **ç«¯å£è¢«å ç”¨**
```bash
# æ£€æŸ¥8080ç«¯å£
netstat -tulnp | grep 8080

# å¦‚æœè¢«å ç”¨ï¼Œæ€æ­»è¿›ç¨‹æˆ–æ›´æ¢ç«¯å£
```

### 5.3 æµ‹è¯•åç«¯æ¥å£

**ä¿æŒJavaåº”ç”¨è¿è¡Œ**ï¼Œæ‰“å¼€æ–°çš„SSHç»ˆç«¯ï¼š

```bash
# æµ‹è¯•æ¥å£
curl http://localhost:8080/

# åº”è¯¥è¿”å›JSONæ•°æ®æˆ–é¡µé¢å†…å®¹
```

### 5.4 åœæ­¢å‰å°è¿è¡Œ

å¦‚æœæµ‹è¯•æˆåŠŸï¼ŒæŒ‰ `Ctrl + C` åœæ­¢å‰å°è¿è¡Œã€‚

---

## ç¬¬å…­æ­¥ï¼šé…ç½®SystemdæœåŠ¡ï¼ˆåå°è¿è¡Œï¼‰ğŸ”§

### 6.1 åˆ›å»ºæœåŠ¡æ–‡ä»¶

```bash
sudo vim /etc/systemd/system/ruoyi.service
```

### 6.2 å†™å…¥ä»¥ä¸‹å†…å®¹

```ini
[Unit]
Description=RuoYi Application
Documentation=https://ruoyi.vip
After=network.target mysql.service redis.service

[Service]
Type=simple
User=root
WorkingDirectory=/data/mingtai/app

# å¯åŠ¨å‘½ä»¤
ExecStart=/usr/bin/java \
  -Xms512m \
  -Xmx1024m \
  -XX:+UseG1GC \
  -XX:MaxGCPauseMillis=200 \
  -Dfile.encoding=UTF-8 \
  -jar /data/mingtai/app/ruoyi-admin.jar \
  --spring.profiles.active=prod

# é‡å¯ç­–ç•¥
Restart=on-failure
RestartSec=10s

# æ—¥å¿—è¾“å‡º
StandardOutput=append:/data/mingtai/logs/ruoyi.log
StandardError=append:/data/mingtai/logs/ruoyi-error.log

# ä¼˜é›…å…³é—­
ExecStop=/bin/kill -s TERM $MAINPID
TimeoutStopSec=30

[Install]
WantedBy=multi-user.target
```

æŒ‰ `Esc` ç„¶åè¾“å…¥ `:wq` ä¿å­˜é€€å‡ºã€‚

### 6.3 å¯åŠ¨æœåŠ¡

```bash
# é‡è½½systemdé…ç½®
sudo systemctl daemon-reload

# å¯åŠ¨æœåŠ¡
sudo systemctl start ruoyi

# æŸ¥çœ‹çŠ¶æ€
sudo systemctl status ruoyi
```

**çŠ¶æ€æ˜¾ç¤ºï¼š**
- âœ… `Active: active (running)` - è¿è¡Œæ­£å¸¸
- âŒ `Active: failed` - å¯åŠ¨å¤±è´¥

### 6.4 æŸ¥çœ‹æ—¥å¿—

```bash
# æŸ¥çœ‹å®æ—¶æ—¥å¿—
tail -f /data/mingtai/logs/ruoyi.log

# æŸ¥çœ‹é”™è¯¯æ—¥å¿—
tail -f /data/mingtai/logs/ruoyi-error.log

# æˆ–ä½¿ç”¨systemdæ—¥å¿—
sudo journalctl -u ruoyi -f
```

### 6.5 è®¾ç½®å¼€æœºè‡ªå¯

```bash
# å¯ç”¨å¼€æœºè‡ªå¯
sudo systemctl enable ruoyi

# éªŒè¯
sudo systemctl is-enabled ruoyi
# åº”è¯¥è¿”å›ï¼šenabled
```

---

## ç¬¬ä¸ƒæ­¥ï¼šéªŒè¯éƒ¨ç½² âœ…

### 7.1 æ£€æŸ¥æœåŠ¡çŠ¶æ€

```bash
# æ£€æŸ¥RuoYiæœåŠ¡
sudo systemctl status ruoyi

# æ£€æŸ¥ç«¯å£ç›‘å¬
netstat -tulnp | grep 8080
# æˆ–
ss -tulnp | grep 8080
```

### 7.2 æµ‹è¯•APIæ¥å£

```bash
# æµ‹è¯•å¥åº·æ£€æŸ¥
curl http://localhost:8080/

# æµ‹è¯•ç™»å½•æ¥å£ï¼ˆåº”è¯¥è¿”å›éªŒè¯ç UUIDï¼‰
curl -X GET http://localhost:8080/captchaImage
```

### 7.3 æµ‹è¯•Pythonè„šæœ¬è°ƒç”¨

åœ¨Javaä»£ç ä¸­æ‰¾ä¸€ä¸ªè§¦å‘ `createCesuanbiao` çš„æ¥å£ï¼Œé€šè¿‡å‰ç«¯æˆ–Postmanè°ƒç”¨ï¼Œç„¶åæŸ¥çœ‹æ—¥å¿—ï¼š

```bash
# æŸ¥çœ‹æ˜¯å¦æœ‰Pythonæ‰§è¡Œæ—¥å¿—
tail -f /data/mingtai/logs/ruoyi.log | grep -i python
```

### 7.4 æ£€æŸ¥æ–‡ä»¶ç”Ÿæˆ

```bash
# æ£€æŸ¥ä¸Šä¼ ç›®å½•
ls -la /data/mingtai/uploadPath/

# æ£€æŸ¥Pythonè¾“å‡ºç›®å½•
ls -la /data/mingtai/python/output/
```

---

## ç¬¬å…«æ­¥ï¼šé…ç½®é˜²ç«å¢™ï¼ˆå¦‚æœéœ€è¦å¤–ç½‘è®¿é—®ï¼‰ğŸ”¥

### 8.1 å¼€æ”¾ç«¯å£

```bash
# CentOS/RHEL - ä½¿ç”¨firewalld
sudo firewall-cmd --permanent --add-port=8080/tcp
sudo firewall-cmd --reload

# æˆ–è€… Ubuntu - ä½¿ç”¨ufw
sudo ufw allow 8080/tcp
sudo ufw reload

# éªŒè¯
sudo firewall-cmd --list-ports
```

### 8.2 æµ‹è¯•å¤–ç½‘è®¿é—®

åœ¨**æœ¬åœ°æµè§ˆå™¨**æ‰“å¼€ï¼š
```
http://your-server-ip:8080/
```

åº”è¯¥èƒ½çœ‹åˆ°è¿”å›æ•°æ®æˆ–é¡µé¢ã€‚

---

## ç¬¬ä¹æ­¥ï¼šå¸¸ç”¨è¿ç»´å‘½ä»¤ ğŸ“

### 9.1 æœåŠ¡ç®¡ç†

```bash
# å¯åŠ¨æœåŠ¡
sudo systemctl start ruoyi

# åœæ­¢æœåŠ¡
sudo systemctl stop ruoyi

# é‡å¯æœåŠ¡
sudo systemctl restart ruoyi

# æŸ¥çœ‹çŠ¶æ€
sudo systemctl status ruoyi

# æŸ¥çœ‹æ—¥å¿—ï¼ˆå®æ—¶ï¼‰
sudo journalctl -u ruoyi -f

# æŸ¥çœ‹æœ€è¿‘100è¡Œæ—¥å¿—
sudo journalctl -u ruoyi -n 100
```

### 9.2 æŸ¥çœ‹æ—¥å¿—

```bash
# åº”ç”¨æ—¥å¿—
tail -f /data/mingtai/logs/ruoyi.log

# é”™è¯¯æ—¥å¿—
tail -f /data/mingtai/logs/ruoyi-error.log

# æŸ¥çœ‹æœ€è¿‘500è¡Œ
tail -n 500 /data/mingtai/logs/ruoyi.log
```

### 9.3 æ›´æ–°åº”ç”¨

```bash
# 1. åœæ­¢æœåŠ¡
sudo systemctl stop ruoyi

# 2. å¤‡ä»½æ—§ç‰ˆæœ¬
sudo cp /data/mingtai/app/ruoyi-admin.jar /data/mingtai/app/ruoyi-admin.jar.bak.$(date +%Y%m%d)

# 3. ä¸Šä¼ æ–°jaråŒ…ï¼ˆåœ¨æœ¬åœ°æ‰§è¡Œï¼‰
scp ruoyi-admin/target/ruoyi-admin.jar root@your-server-ip:/data/mingtai/app/

# 4. é‡å¯æœåŠ¡
sudo systemctl start ruoyi

# 5. æŸ¥çœ‹å¯åŠ¨æ—¥å¿—
sudo journalctl -u ruoyi -f
```

---

## âœ… éƒ¨ç½²å®Œæˆæ£€æŸ¥æ¸…å•

- [ ] Javaç¯å¢ƒå·²å®‰è£…ï¼ˆjava -versionï¼‰
- [ ] MySQLå·²è¿è¡Œå¹¶å¯¼å…¥æ•°æ®
- [ ] Rediså·²è¿è¡Œ
- [ ] jaråŒ…å·²ä¸Šä¼ åˆ° `/data/mingtai/app/`
- [ ] æœåŠ¡æ–‡ä»¶å·²åˆ›å»º `/etc/systemd/system/ruoyi.service`
- [ ] RuoYiæœåŠ¡æ­£å¸¸è¿è¡Œï¼ˆsystemctl status ruoyiï¼‰
- [ ] ç«¯å£8080å·²ç›‘å¬ï¼ˆnetstat -tulnp | grep 8080ï¼‰
- [ ] å¯ä»¥è®¿é—®APIï¼ˆcurl http://localhost:8080/ï¼‰
- [ ] Pythonè„šæœ¬å¯ä»¥è¢«è°ƒç”¨
- [ ] æ—¥å¿—æ­£å¸¸è¾“å‡ºåˆ° `/data/mingtai/logs/`
- [ ] æœåŠ¡å·²è®¾ç½®å¼€æœºè‡ªå¯ï¼ˆsystemctl is-enabled ruoyiï¼‰

---

## ğŸ†˜ é‡åˆ°é—®é¢˜æ€ä¹ˆåŠï¼Ÿ

### 1. æœåŠ¡å¯åŠ¨å¤±è´¥

```bash
# æŸ¥çœ‹è¯¦ç»†é”™è¯¯
sudo journalctl -u ruoyi -n 100 --no-pager

# æˆ–æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶
cat /data/mingtai/logs/ruoyi-error.log
```

### 2. Pythonè„šæœ¬æ‰§è¡Œå¤±è´¥

```bash
# æ‰‹åŠ¨æµ‹è¯•Pythonè„šæœ¬
cd /data/mingtai/python
./generate_excel.sh 147

# æ£€æŸ¥Pythonç¯å¢ƒ
python3 --version
pip3 list
```

### 3. æ•°æ®åº“è¿æ¥é—®é¢˜

```bash
# æµ‹è¯•MySQLè¿æ¥
mysql -uroot -p -e "SELECT 1;"

# æ£€æŸ¥æ•°æ®åº“é…ç½®
cat ruoyi-admin/src/main/resources/application-prod.yml | grep -A 5 datasource
```

---

## ğŸ‰ éƒ¨ç½²æˆåŠŸï¼

ç°åœ¨ä½ çš„Javaåç«¯å·²ç»æˆåŠŸéƒ¨ç½²åˆ°æœåŠ¡å™¨ï¼Œå¯ä»¥ï¼š
1. é€šè¿‡ `http://your-server-ip:8080` è®¿é—®API
2. åº”ç”¨ä¼šåœ¨æœåŠ¡å™¨é‡å¯åè‡ªåŠ¨å¯åŠ¨
3. Pythonè„šæœ¬å¯ä»¥è¢«Javaåº”ç”¨è°ƒç”¨
4. æ—¥å¿—æŒä¹…åŒ–ä¿å­˜åœ¨ `/data/mingtai/logs/`

æ¥ä¸‹æ¥å¯ä»¥éƒ¨ç½²å‰ç«¯äº†ï¼