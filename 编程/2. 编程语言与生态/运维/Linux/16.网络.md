
# 1.Linux网络配置原理图


NAT网络配置：

![CleanShot 2025-10-16 at 15.16.00@2x.png](https://picgo-q1uill.oss-cn-chengdu.aliyuncs.com/img-for-typora/CleanShot%202025-10-16%20at%2015.16.00@2x.png)


# 2.查看网络IP和网关

## 查看网关

![CleanShot 2025-10-16 at 15.37.45@2x.png](https://picgo-q1uill.oss-cn-chengdu.aliyuncs.com/img-for-typora/CleanShot%202025-10-16%20at%2015.37.45@2x.png)


**查看windows中网络配置指令:** `ipconfig`

![CleanShot 2025-10-16 at 15.38.24@2x.png](https://picgo-q1uill.oss-cn-chengdu.aliyuncs.com/img-for-typora/CleanShot%202025-10-16%20at%2015.38.24@2x.png)


**查看linux的配置指令:** `ifconfig`


# 3.ping 测试主机之间网络连通性

### 基本语法

`ping 目的主机`（功能描述：测试当前服务器是否可以连後為的主机）

### 应用实例

测试当前服务器是否可以连接百度
`ping www.baidu.com`


# 4.linux网络环境配置

### 第一种方法（自动获取）：

说明：登陆后，通过界面的来设置自动获取ip
特点：linux启动后会自动获取IP.缺点是每次自动获取的ip地址可能不一样。

![CleanShot 2025-10-16 at 15.42.42@2x.png](https://picgo-q1uill.oss-cn-chengdu.aliyuncs.com/img-for-typora/CleanShot%202025-10-16%20at%2015.42.42@2x.png)


### 第二种方法（指定ip）

说明
直接修改配置文件来指定IP,并可以连接到外网（程序员推荐）

编辑 `vim /etc/sysconfig/network-scripts/ifcfg-ens33`
要求：将ip地址配置的静态的
比如：ip地址为192.168.200.130

**ifcfg-ens33 文件说明：**

```
DEVICE=ethO         #接口名（设备，网卡）
HWADDR=00:0C:2x:6x:0x:xx   #MAC地址
TYPE=Ethernet     #网络类型（通常是Ethemet）
UUID=926a57ba-92c6-4231-bacb-f27e5e6a9f44 #随机id
#系统启动的时候网络接口是否有效（yes/no）
ONBOOT=yes
# IP的配置方法［none|static|bootp|dhcp］（引导时不使用协议|静态分配IP|BOOTP协议|DHCP协议）
BOOTPROTO= static
#IP地址
IPADDR=192.168.200.130
#网关
GATEWAY =192.168.200.2
#域名解析器
DNS1=192.168.200.2
```

### 重启网络服务或者重启系统生效

`service network restart reboot`

`service network reboot`


# 5.设置主机名和hosts映射

### 设置主机名

1. 为了方便记忆，可以给linux系统设置主机名，也可以根据需要修改主机名
2. 指令 `hostname` ：查看主机名
3. 修改文件在`/etc/hostname` 指定
4. 修改后，重启生效


### 设置hosts映射

思考：如何通过 主机名能够找到（比如ping）某个Iinux系统？

#### windows
在 `C:\Windows\System32\drivers\etc\hosts`文件指定即可
案例：`192.168.200.130 hspedu100`

#### linux
在`/etc/hosts` 文件 指定
案例：`192.168.200.1 ThinkPad-PC`


# 6.主机名解析过程分析（Hosts、DNS）

### Hosts是什么

一个文本文件，用来记录 IP 和 Hostname（主机名）的映射关系

### DNS
1. DNS，就是Domain Name System的缩写，翻译过来就是**域名系统**
2. 是互联网上作为域名和IP地址相互映射的一个**分布式数据库**


**应用实例**：

用户在浏览器输入了www.baidu.com
1. 浏览器先检查浏览器缓存中有没有该域名解析IP地址，有就先调用这个IP完成解析;如果没有，就检查DNS解析器缓存，如果有直接返回IP完成解析。这两个缓存，可以理解为 本地解析器缓存
2. 一般来说，当电脑第一次成功访问某一网站后，在一定时间内，浏览器或操作系统会缓存他的IP地址（DNS解析记录）.如 在cmd窗口中输入
```
ipconfig /displaydns    //DNS域名解析缓存
ipconfig /flushdns   //手动清理dns缓存
```

3. 如果本地解析器缓存没有找到对应映射，检查系统中hosts文件中有没有配置对应的域名IP映射，如果有，则完成解析并返回。
4. 如果 本地DNS解析器缓存 和 hosts文件 中均没有找到对应的IP，则到域名服务DNS进行解析域

![CleanShot 2025-10-16 at 16.52.26@2x.png](https://picgo-q1uill.oss-cn-chengdu.aliyuncs.com/img-for-typora/CleanShot%202025-10-16%20at%2016.52.26@2x.png)


