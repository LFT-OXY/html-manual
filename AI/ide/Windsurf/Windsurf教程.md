# 通用Rules

\---

alwaysApply: true

\---

# 通用软件开发规范与行为准则

## 核心身份定位

你是一位拥有15年经验的软件架构师和资深开发者，具备严谨、健壮的代码风格，始终以生产环境标准要求自己。你的首要任务是编写高质量、完整且可维护的代码。

## 1. 核心开发原则

### 1.1 完整性要求

- **严格遵守需求**：必须完整实现所有功能点和逻辑要求，无论复杂程度如何
- **拒绝占位符逻辑**：禁止使用 TODO、占位符或返回模拟数据等方式应付复杂功能
- **端到端实现**：多步骤流程必须提供所有步骤的完整代码，不得仅实现部分步骤

### 1.2 问题解决态度

- **主动解决难题**：正面分析技术难题、兼容性问题、性能瓶颈和复杂算法
- **禁止简化规避**：不得通过创建简化版本来绕过实现挑战
- **技术决策透明**：明确说明技术选型、实现思路及权衡考量

### 1.3 质量与安全保障

- **全面错误处理**：为所有可能失败的操作添加错误处理、异常捕获和重试逻辑
- **日志与监控**：在关键业务逻辑节点主动添加适当的日志输出
- **安全优先**：始终考虑代码安全性，防范常见安全漏洞
- **边界情况处理**：代码必须能够处理各种边界情况和异常场景

## 2. 项目架构规范

### 2.1 项目结构原则

- **分层组织**：按功能或领域划分目录，遵循关注点分离原则
- **命名一致性**：使用描述性的目录和文件命名，准确反映用途和内容
- **模块化设计**：相关功能归类到同一模块，最小化跨模块依赖
- **合理嵌套**：避免过深的目录嵌套，一般不超过3-4层
- **资源分类**：明确区分代码、资源、配置和测试文件
- **依赖管理**：集中管理依赖，避免重复声明
- **约定优先**：遵循语言或框架的标准项目结构约定

### 2.2 架构设计考量

- **可维护性**：设计易于理解、修改和扩展的代码结构
- **可扩展性**：预留合理的扩展点，支持未来功能演进
- **性能需求**：在设计阶段考虑性能要求和优化策略
- **技术选型**：优先使用成熟的库和工具，避免不必要的自定义实现

## 3. 代码编写规范

### 3.1 代码质量标准

- **单一职责**：每个组件保持单一职责，提升可测试性
- **DRY 原则**：避免重复代码，提取共用逻辑到独立函数或类
- **KISS 原则**：保持代码简洁明了，每个方法行数不超过300行
- **代码可读性**：编写自解释的代码，减少理解成本

### 3.2 命名与文档规范

- **描述性命名**：使用能够准确反映用途和含义的变量、函数和类名
- **注释文档**：所有方法必须添加注释，说明功能、参数、返回值和用法
- **风格一致性**：遵循项目或语言的官方风格指南和代码约定
- **文档同步**：保持代码与文档的同步更新

### 3.3 异常处理与日志

- **异常处理**：正确处理边缘情况和错误，提供有用的错误信息
- **日志记录**：在关键节点记录必要的运行时信息
- **监控集成**：考虑与监控系统的集成，便于问题排查

## 4. 工作流程规范

### 4.1 版本控制

- **提交规范**：编写有意义的提交信息，保持逻辑相关的更改在同一提交中
- **分支管理**：遵循项目的分支管理策略
- **代码审查**：积极参与代码审查，保证代码质量

### 4.2 任务执行规范

- **专注核心任务**：专注于明确要求的功能实现
- **避免额外动作**：除非明确要求，否则不创建测试文件、文档或其他额外内容
- **直接响应**：任务完成后直接提供所要求的代码和必要说明

## 5. 交流与响应规范

### 5.1 语言要求

- **中文回复**：始终使用中文进行回复和交流
- **技术准确性**：确保技术术语使用准确，表达清晰
- **简洁有效**：避免冗余信息，直击要点

### 5.2 问题分析

- **需求理解**：准确理解用户需求，必要时主动确认细节
- **方案设计**：提供完整、可行的技术方案
- **风险评估**：识别潜在风险并提供相应的解决策略

\---

**核心准则**：绝对禁止简化。所有实现必须完整、健壮、符合生产环境标准。



# 坎坷经历回顾

- 双雄争霸： 早期跟Cursor 是AI编程工具老大老二，市场份额大概在四成左右
- OpenAI 收购破裂：2025年4月~6月，OpenAI计划30亿美元收购Windsurf，但因微软提的一些条件 windsurf团队无法答应，交易破裂
-  Anthropic切断Claude sonnet的API供应：在OpenAI谈判期间，因担心Windsurf出售给OpenAI（Anthropic公司竞对），Anthropic从6月开始切断了最强AI编程模型Claude Sonnet的供应，导致大量用户转到Cursor
- CEO和创始人背刺：7月份 Google以24亿美元挖走了Windsurf的CEO、创始人，以及核心研发团队（大概40人），这部分人进入Google开始着手Gemini 编程工具的研发。剩下的Winsurf大约200人团队手上股票期权变成一堆废纸，人人自危，公司差点 解散
- 雨过天晴，Cognition公司 收购Windsurf，Cognition以2.5亿美元收购Windsurf, windsurf得以能继续迭代发展。Anthropic公司恢复API供应
- 新版本超高热度，1.12版本的发布带来了全新的UI，交互体验

# 套餐

[Windsurf - The best AI for Coding](https://windsurf.com/)

需要魔法注册

![img](https://picgo-q1uill.oss-cn-chengdu.aliyuncs.com/img-for-typora/1764123890257-ddaa60b0-cc66-45d5-a275-3881ed788152.png)

15美元，500次，但有些模型是按一次对话消耗两次请求

| **模型**                 | **一次对话消耗的次数** | **15美元/月 实际可用次数** |      |
| ------------------------ | ---------------------- | -------------------------- | ---- |
| claude-4-sonnet          | 2                      | 250次                      |      |
| claude-4-sonnet-thinking | 2                      | 250次                      |      |
| gemini-2.5-pro           | 1                      | 500次                      |      |
| GPT-5                    | 1                      | 500次                      |      |
| Kimi-k2                  | 0.5                    | 1000次                     |      |
| Qwen3-coder              | 0.5                    | 1000次                     |      |

![img](https://picgo-q1uill.oss-cn-chengdu.aliyuncs.com/img-for-typora/1764123890578-8fbb089e-978b-4d88-9ab5-a25b494ffa2e.png)

# 编辑器

![img](https://picgo-q1uill.oss-cn-chengdu.aliyuncs.com/img-for-typora/1764123890593-e6e3a76b-0834-459d-9da9-9fd5e917af31.png)

![img](https://picgo-q1uill.oss-cn-chengdu.aliyuncs.com/img-for-typora/1764123890841-aa65fc7b-1285-41a1-98a4-8e8a5cc19fdb.png)

- 自动Git提交
- DeepWiki
- 模型
- Tab

# 对话

支持TodoList生成

@web 实时搜索网页

@file & files 加入到上下文，也可以手动拖拽过去

@browser: 打开windsurf 内置浏览器，可以元素调整

@doc 常用文档

终端

# Rules

![img](https://picgo-q1uill.oss-cn-chengdu.aliyuncs.com/img-for-typora/1764123890742-7e7dbab6-3406-458d-822c-89ef47c086c5.png)

![img](https://picgo-q1uill.oss-cn-chengdu.aliyuncs.com/img-for-typora/1764123891254-10d2b3e8-950d-4c9b-bc1b-9b847c19d6da.png)

![img](https://picgo-q1uill.oss-cn-chengdu.aliyuncs.com/img-for-typora/1764123891775-b1844bb5-f05f-4f62-8147-4b2a7e519e4b.png)

# Memories

- 智能创建记忆
- 手动使用命令创建："保存记忆：....."
- 手动编辑

# Memories 和 Rule 的区别

- Rules

![img](https://picgo-q1uill.oss-cn-chengdu.aliyuncs.com/img-for-typora/1764124771293-86da32ea-e658-4679-8f39-ca6b0f826648.png)

- memories

![img](https://picgo-q1uill.oss-cn-chengdu.aliyuncs.com/img-for-typora/1764124781072-a0239426-70f5-4e7f-98a7-d079929744b7.png)

## 总结对比表

| **特性**       | **规则 (ruleType: 'always')**                     | **记忆 (Memories)**                               |
| -------------- | ------------------------------------------------- | ------------------------------------------------- |
| 来源           | 手动创建 (用户在 Rules 设置界面)                  | 自动生成 (源于对话：Sidecar 建议 或 用户主动指令) |
| 管理入口       | Customizations→ Rules                             | Customizations → Memories                         |
| 包含时机       | 每一次请求                                        | 仅在判定与当前对话情境高度相关时                  |
| 包含位置       | Prompt 的最前面部分 (强制性)                      | Prompt 的相关位置 (动态插入)                      |
| 生命周期       | 显式编辑/删除                                     | 显式编辑/删除                                     |
| 目的           | 设定基础性、全局性、强制性的规则与规范            | 捕捉并复用具体细节、临时决策、情境偏好            |
| Token 占用影响 | 高 (固定占用前端空间)                             | 低到中 (动态加载，只在需要时占用)                 |
| 执行可靠性     | 意图传达明确，位置优，但效果受规则复杂度/长度影响 | 依赖检索算法准确率和提炼质量                      |
| 项目隔离性     | 规则保存在项目中，随项目迁移                      | 严格项目隔离 (设计上)                             |
| 用户操作       | 需要手动创建和维护                                | 被动建议需用户批准，主动指令创建便捷              |
| 最佳应用场景   | 核心项目风格指南、工具选择、基础架构要求          | API 端点、特定组件细节、一次约定值、项目特有习惯  |

# 工作流

通过一个命令让大模型执行一系列流程步骤

*其实是可以配置在rules，但是rules不一定会生效，但是工作流一定会生效，类似与Kiro的钩子*

举例：

编译->git提交->git push

![img](https://picgo-q1uill.oss-cn-chengdu.aliyuncs.com/img-for-typora/1764123891728-58fa1ac5-b1e2-432d-aaed-5ac2bfe13985.png)

/workflow 工作流

# MCP 

提供MCP市场，方便安装

也支持自定义安装

# 实战

帮我做一个商城的登录页面，要求输入账号密码，需要调用后端真实API，数据库使用sqlite

# 总结

Windsurf 是一款非常不错的AI编程工具，操作体验非常顺畅，支持主流的一些用法，如Todo,Memories等，如果你想做一个中小型的项目，那么它是不错的选择。

| **AI编程工具**  | **推荐指数** | **定价**  | **模型**                         | **新手入门难度** | **是否生成TodoList** | **上下文能力** | **项目选择**                  |
| --------------- | ------------ | --------- | -------------------------------- | ---------------- | -------------------- | -------------- | ----------------------------- |
| **Trae**        | ⭐️⭐️⭐️          | 10美元/月 | 所有主流模型。一次对话一次请求   | 极低             | 部分生成             | 较弱           | 纯前端或者纯后端，小项目，MVP |
| **Windsurf**    | ⭐️⭐️⭐️⭐️         | 15美元/月 | 所有主流模型，Claude模型双倍请求 | 极低             | 完全生成             | 一般           | 中小型项目都能胜任            |
| **AugmentCode** |              |           |                                  |                  |                      |                |                               |
| **Cursor**      |              |           |                                  |                  |                      |                |                               |
| **RooCode**     |              |           |                                  |                  |                      |                |                               |
| **CodeBuddy**   |              |           |                                  |                  |                      |                |                               |
| **Copilt**      |              |           |                                  |                  |                      |                |                               |