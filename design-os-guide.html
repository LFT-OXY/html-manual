<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Design OS：完整使用手册</title>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;500&family=Fraunces:opsz,wght@9..144,300;400;500;600;700&family=Public+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;1,400&display=swap" rel="stylesheet">

    <style>
        /* ========================================
           DESIGN TOKENS & CSS RESET
        ======================================== */
        :root {
            /* Color Palette */
            --bg-paper: #FFFEFC;
            --bg-card: #FFFFFF;
            --text-main: #2D2D2D;
            --text-secondary: #4A4644;
            --highlight-mint: #E6F4F1;
            --accent-orange: #FF4F00;
            --link-blue: #2E6BE6;
            --path-indigo: #6366F1;
            --success: #2F9E44;
            --warning: #F08C00;
            --error: #D63939;
            --border-subtle: rgba(45, 45, 45, 0.08);
            --border-medium: rgba(45, 45, 45, 0.15);

            /* Typography */
            --font-heading: 'Fraunces', Georgia, serif;
            --font-body: 'Public Sans', system-ui, sans-serif;
            --font-code: 'Fira Code', Consolas, monospace;

            /* Layout */
            --sidebar-width: 280px;
            --content-max-width: 1200px;

            /* Effects */
            --shadow-sm: 0 1px 3px rgba(0,0,0,0.04);
            --shadow-md: 0 4px 16px rgba(45,45,45,0.08);
            --shadow-hover: 0 8px 32px rgba(45,45,45,0.12);
            --radius-sm: 4px;
            --radius-md: 8px;
            --radius-lg: 16px;
            --transition: 220ms cubic-bezier(0.16, 1, 0.3, 1);
        }

        /* Reset */
        *, *::before, *::after {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        html { scroll-behavior: smooth; }

        body {
            background-color: var(--bg-paper);
            color: var(--text-main);
            font-family: var(--font-body);
            line-height: 1.8;
            font-size: 17px;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            overflow-x: hidden;
        }

        /* Noise Texture Overlay */
        body::before {
            content: '';
            position: fixed;
            top: 0; left: 0; right: 0; bottom: 0;
            pointer-events: none;
            z-index: -2;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.025'/%3E%3C/svg%3E");
        }

        /* Dashed Grid Background */
        .grid-bg {
            position: fixed;
            top: 0; left: 0; right: 0; bottom: 0;
            pointer-events: none;
            z-index: -1;
            background-size: 48px 48px;
            background-image:
                linear-gradient(to right, rgba(0,0,0,0.02) 1px, transparent 1px),
                linear-gradient(to bottom, rgba(0,0,0,0.02) 1px, transparent 1px);
            mask-image: linear-gradient(to bottom, black 30%, transparent 80%);
            -webkit-mask-image: linear-gradient(to bottom, black 30%, transparent 80%);
        }

        /* ========================================
           TYPOGRAPHY
        ======================================== */
        h1, h2, h3, h4, h5, h6 {
            font-family: var(--font-heading);
            font-weight: 600;
            color: var(--text-main);
            letter-spacing: -0.02em;
        }

        h1 {
            font-size: clamp(2.5rem, 5vw, 4rem);
            line-height: 1.1;
            font-weight: 700;
        }

        h2 {
            font-size: 2rem;
            margin-top: 3rem;
            margin-bottom: 1.5rem;
            padding-bottom: 0.75rem;
            border-bottom: 2px solid var(--highlight-mint);
            position: relative;
        }

        h2 .anchor-link {
            position: absolute;
            left: -1.5rem;
            opacity: 0;
            color: var(--text-secondary);
            text-decoration: none;
            transition: var(--transition);
        }

        h2:hover .anchor-link { opacity: 0.5; }
        h2 .anchor-link:hover { opacity: 1; }

        h3 {
            font-size: 1.4rem;
            margin-top: 2rem;
            margin-bottom: 1rem;
            color: var(--text-secondary);
        }

        h4 {
            font-size: 1.1rem;
            margin-top: 1.5rem;
            margin-bottom: 0.75rem;
        }

        p {
            margin-bottom: 1.5rem;
            color: var(--text-secondary);
            max-width: 70ch;
        }

        strong {
            color: var(--text-main);
            font-weight: 600;
        }

        a {
            color: var(--link-blue);
            text-decoration: none;
            transition: var(--transition);
            position: relative;
        }

        a::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 0;
            height: 1px;
            background: var(--link-blue);
            transition: var(--transition);
        }

        a:hover::after { width: 100%; }
        a:focus { outline: 2px solid var(--link-blue); outline-offset: 2px; }

        code {
            font-family: var(--font-code);
            font-size: 0.88em;
            background: rgba(99, 102, 241, 0.08);
            padding: 0.15em 0.4em;
            border-radius: 4px;
            color: var(--path-indigo);
        }

        pre {
            background: #1a1a2e;
            border-radius: var(--radius-md);
            padding: 1.5rem;
            overflow-x: auto;
            margin: 1.5rem 0;
        }

        pre code {
            background: none;
            padding: 0;
            color: #e0e0e0;
            font-size: 0.9rem;
            line-height: 1.6;
        }

        /* ========================================
           LAYOUT
        ======================================== */
        .app-container {
            display: flex;
            min-height: 100vh;
        }

        /* MODULE 1: Sidebar Navigation */
        .sidebar {
            width: var(--sidebar-width);
            background: rgba(255, 255, 255, 0.97);
            border-right: 1px solid var(--border-subtle);
            height: 100vh;
            position: fixed;
            top: 0;
            left: 0;
            overflow-y: auto;
            padding: 2rem 1.5rem;
            z-index: 100;
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
        }

        .sidebar-logo {
            font-family: var(--font-heading);
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--accent-orange);
            margin-bottom: 2rem;
            display: block;
        }

        .nav-list {
            list-style: none;
            margin-bottom: 2rem;
        }

        .nav-item { margin-bottom: 0.25rem; }

        .nav-link {
            display: block;
            padding: 0.6rem 0.9rem;
            color: var(--text-secondary);
            border-radius: var(--radius-sm);
            font-size: 0.9rem;
            border-left: 3px solid transparent;
            transition: var(--transition);
            text-decoration: none;
        }

        .nav-link::after { display: none; }

        .nav-link:hover {
            background: rgba(0,0,0,0.03);
            color: var(--text-main);
        }

        .nav-link.active {
            background: var(--highlight-mint);
            color: var(--accent-orange);
            border-left-color: var(--accent-orange);
            font-weight: 500;
        }

        .nav-section-title {
            font-size: 0.7rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: var(--text-secondary);
            margin: 1.5rem 0 0.5rem 0.9rem;
            font-weight: 600;
        }

        .sidebar-progress {
            margin-top: auto;
            padding-top: 1.5rem;
            border-top: 1px solid var(--border-subtle);
        }

        .sidebar-progress-label {
            font-size: 0.75rem;
            color: var(--text-secondary);
            margin-bottom: 0.5rem;
        }

        .progress-track {
            background: #e0e0e0;
            height: 4px;
            border-radius: 2px;
            overflow: hidden;
        }

        .progress-fill {
            width: 0%;
            background: linear-gradient(90deg, var(--success), var(--path-indigo));
            height: 100%;
            transition: width 0.4s ease;
        }

        /* Main Content */
        .main-content {
            flex: 1;
            margin-left: var(--sidebar-width);
            padding: 4rem 5rem;
            max-width: calc(var(--content-max-width) + var(--sidebar-width) + 10rem);
        }

        section {
            margin-bottom: 4rem;
            scroll-margin-top: 2rem;
        }

        /* ========================================
           COMPONENTS
        ======================================== */

        /* Badges */
        .badge-group {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-bottom: 1.5rem;
        }

        .badge {
            display: inline-flex;
            align-items: center;
            padding: 0.35rem 0.9rem;
            border-radius: 20px;
            font-size: 0.72rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.06em;
        }

        .badge-difficulty { background: var(--highlight-mint); color: #0d6339; }
        .badge-time { background: #fff8e6; color: #7c5c00; }
        .badge-prereq { background: #f0f0f0; color: #555; }

        /* Cards */
        .card {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: var(--radius-md);
            padding: 1.75rem;
            box-shadow: var(--shadow-sm);
            margin-bottom: 1.5rem;
        }

        @media (prefers-reduced-motion: no-preference) {
            .card {
                transition: transform var(--transition), box-shadow var(--transition);
            }
            .card:hover {
                transform: translateY(-4px);
                box-shadow: var(--shadow-hover);
            }
        }

        .card-tldr {
            background: var(--highlight-mint);
            border: none;
            padding: 2rem;
        }

        .card-tldr h4 {
            color: #0d6339;
            margin-top: 0;
            font-size: 1rem;
        }

        .card-tldr p {
            color: #1a5c36;
            margin-bottom: 0;
        }

        /* Learning Objectives */
        .objectives-list {
            list-style: none;
            padding: 0;
        }

        .objectives-list li {
            display: flex;
            align-items: flex-start;
            gap: 0.75rem;
            margin-bottom: 1rem;
            color: var(--text-secondary);
        }

        .objectives-list .check {
            color: var(--success);
            font-weight: bold;
            font-size: 1.1rem;
            flex-shrink: 0;
        }

        /* Concept Map */
        .concept-map {
            display: flex;
            gap: 1.5rem;
            align-items: center;
            justify-content: center;
            flex-wrap: wrap;
            margin: 2.5rem 0;
            padding: 2rem;
            background: linear-gradient(135deg, #fafafa 0%, #f5f5f5 100%);
            border-radius: var(--radius-lg);
        }

        .phase-node {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            padding: 1.5rem 2rem;
            border-radius: var(--radius-md);
            box-shadow: var(--shadow-md);
            text-align: center;
            min-width: 180px;
            flex: 1;
            max-width: 250px;
        }

        .phase-node h4 {
            margin: 0 0 0.5rem 0;
            color: var(--accent-orange);
            font-size: 1.1rem;
        }

        .phase-node p {
            font-size: 0.85rem;
            margin: 0 0 0.75rem 0;
            color: var(--text-secondary);
        }

        .phase-node code {
            display: block;
            margin-top: 0.5rem;
        }

        .phase-arrow {
            color: var(--path-indigo);
            font-size: 2rem;
            font-weight: 300;
        }

        /* Split Layout */
        .split-layout {
            display: grid;
            grid-template-columns: 1.4fr 1fr;
            gap: 3rem;
            margin-bottom: 3rem;
            align-items: start;
        }

        .sticky-code {
            position: sticky;
            top: 2rem;
            background: #1a1a2e;
            color: #e0e0e0;
            padding: 1.5rem;
            border-radius: var(--radius-md);
            font-family: var(--font-code);
            font-size: 0.85rem;
            box-shadow: var(--shadow-md);
            overflow-x: auto;
        }

        .sticky-code-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
            padding-bottom: 0.75rem;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            color: rgba(255,255,255,0.5);
            font-size: 0.8rem;
        }

        .copy-btn {
            background: rgba(255,255,255,0.1);
            border: none;
            color: inherit;
            cursor: pointer;
            padding: 0.3rem 0.6rem;
            border-radius: var(--radius-sm);
            font-size: 0.75rem;
            transition: var(--transition);
        }

        .copy-btn:hover { background: rgba(255,255,255,0.2); }

        .code-content .comment { color: #6a9955; }
        .code-content .keyword { color: #569cd6; }
        .code-content .string { color: #ce9178; }
        .code-content .function { color: #dcdcaa; }
        .code-content .prompt { color: var(--success); }

        /* Comparison Grid */
        .comparison-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1.5rem;
            margin: 2rem 0;
        }

        .card-do {
            border-top: 4px solid var(--success);
        }

        .card-do h4 { color: var(--success); margin-top: 0; }

        .card-dont {
            border-top: 4px solid var(--error);
        }

        .card-dont h4 { color: var(--error); margin-top: 0; }

        /* Tabs */
        .tabs {
            margin: 2rem 0;
            border: 1px solid var(--border-subtle);
            border-radius: var(--radius-md);
            overflow: hidden;
            background: var(--bg-card);
        }

        .tab-header {
            display: flex;
            background: #f8f9fa;
            border-bottom: 1px solid var(--border-subtle);
            overflow-x: auto;
        }

        .tab-btn {
            padding: 1rem 1.5rem;
            border: none;
            background: none;
            cursor: pointer;
            font-family: var(--font-body);
            font-weight: 600;
            font-size: 0.9rem;
            color: var(--text-secondary);
            border-bottom: 2px solid transparent;
            transition: var(--transition);
            white-space: nowrap;
        }

        .tab-btn:hover { background: rgba(0,0,0,0.03); }
        .tab-btn:focus { outline: 2px solid var(--path-indigo); outline-offset: -2px; }

        .tab-btn.active {
            color: var(--accent-orange);
            border-bottom-color: var(--accent-orange);
            background: white;
        }

        .tab-content {
            padding: 2rem;
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        @media (prefers-reduced-motion: no-preference) {
            .tab-content.active {
                animation: fadeIn 0.3s ease;
            }
        }

        /* Terminal Simulator */
        .terminal {
            background: #1a1a2e;
            color: #fff;
            padding: 0;
            border-radius: var(--radius-md);
            font-family: var(--font-code);
            margin: 1.5rem 0;
            overflow: hidden;
            box-shadow: var(--shadow-md);
        }

        .terminal-header {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 0.75rem 1rem;
            background: rgba(0,0,0,0.3);
        }

        .terminal-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
        }

        .terminal-dot.red { background: #ff5f56; }
        .terminal-dot.yellow { background: #ffbd2e; }
        .terminal-dot.green { background: #27c93f; }

        .terminal-title {
            margin-left: auto;
            font-size: 0.75rem;
            color: rgba(255,255,255,0.4);
        }

        .terminal-body {
            padding: 1.25rem;
            font-size: 0.88rem;
            line-height: 1.7;
        }

        .terminal-line {
            margin-bottom: 0.5rem;
        }

        .terminal-prompt::before {
            content: "➜  design-os ";
            color: var(--success);
        }

        .terminal-output { color: rgba(255,255,255,0.7); }
        .terminal-success { color: #4ade80; }
        .terminal-error { color: #ff5f56; }
        .terminal-comment { color: #6a9955; }

        /* Term Tooltip */
        .term {
            border-bottom: 1px dashed var(--text-secondary);
            cursor: help;
            position: relative;
        }

        .term::after {
            content: attr(data-def);
            position: absolute;
            bottom: calc(100% + 8px);
            left: 50%;
            transform: translateX(-50%);
            background: #2d2d2d;
            color: white;
            padding: 0.6rem 1rem;
            border-radius: var(--radius-sm);
            font-size: 0.8rem;
            width: max-content;
            max-width: 250px;
            z-index: 50;
            pointer-events: none;
            opacity: 0;
            box-shadow: var(--shadow-md);
            transition: opacity var(--transition);
            line-height: 1.4;
        }

        .term:hover::after { opacity: 1; }

        /* Quiz */
        .quiz-question {
            margin-bottom: 1rem;
            font-weight: 600;
            color: var(--text-main);
        }

        .quiz-options {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .quiz-option {
            display: block;
            width: 100%;
            text-align: left;
            padding: 1rem 1.25rem;
            border: 2px solid var(--border-medium);
            border-radius: var(--radius-sm);
            background: white;
            cursor: pointer;
            font-size: 0.95rem;
            font-family: var(--font-body);
            transition: var(--transition);
        }

        .quiz-option:hover {
            border-color: var(--accent-orange);
            background: #fffaf5;
        }

        .quiz-option:focus {
            outline: 2px solid var(--path-indigo);
            outline-offset: 2px;
        }

        .quiz-option.correct {
            background-color: #d4edda;
            border-color: var(--success);
            color: #155724;
        }

        .quiz-option.incorrect {
            background-color: #f8d7da;
            border-color: var(--error);
            color: #721c24;
        }

        @media (prefers-reduced-motion: no-preference) {
            .quiz-option.incorrect {
                animation: shake 0.4s ease;
            }
        }

        .quiz-feedback {
            margin-top: 1rem;
            padding: 1rem;
            border-radius: var(--radius-sm);
            font-weight: 500;
        }

        .quiz-feedback.success { background: #d4edda; color: #155724; }
        .quiz-feedback.error { background: #f8d7da; color: #721c24; }

        /* Cheat Sheet Table */
        .cheat-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.9rem;
        }

        .cheat-table th {
            text-align: left;
            padding: 1rem;
            background: #f8f9fa;
            border-bottom: 2px solid var(--border-subtle);
            font-weight: 600;
            color: var(--text-main);
        }

        .cheat-table td {
            padding: 0.9rem 1rem;
            border-bottom: 1px solid var(--border-subtle);
            vertical-align: top;
        }

        .cheat-table tr:hover { background: #fafafa; }

        .cheat-table code {
            font-size: 0.85rem;
        }

        .cheat-copy-btn {
            padding: 0.3rem 0.6rem;
            border: 1px solid var(--border-medium);
            background: white;
            border-radius: var(--radius-sm);
            cursor: pointer;
            font-size: 0.75rem;
            transition: var(--transition);
        }

        .cheat-copy-btn:hover { background: #f0f0f0; }

        /* Troubleshooting Accordion */
        .accordion-item {
            border: 1px solid var(--border-subtle);
            border-radius: var(--radius-sm);
            margin-bottom: 0.75rem;
            overflow: hidden;
        }

        .accordion-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem 1.25rem;
            background: #fafafa;
            cursor: pointer;
            font-weight: 500;
            transition: var(--transition);
        }

        .accordion-header:hover { background: #f0f0f0; }

        .accordion-icon {
            transition: transform var(--transition);
        }

        .accordion-item.open .accordion-icon {
            transform: rotate(90deg);
        }

        .accordion-body {
            padding: 0;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease, padding 0.3s ease;
        }

        .accordion-item.open .accordion-body {
            padding: 1.25rem;
            max-height: 500px;
        }

        /* Vocabulary Grid */
        .vocab-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
            gap: 1rem;
            margin-top: 1.5rem;
        }

        .vocab-card {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: var(--radius-sm);
            padding: 1.25rem;
            transition: var(--transition);
        }

        .vocab-card:hover {
            box-shadow: var(--shadow-md);
        }

        .vocab-term {
            font-weight: 600;
            color: var(--text-main);
            margin-bottom: 0.5rem;
        }

        .vocab-def {
            font-size: 0.88rem;
            color: var(--text-secondary);
            line-height: 1.5;
        }

        /* CTA Section */
        .cta-section {
            background: var(--text-main);
            color: white;
            padding: 3rem;
            border-radius: var(--radius-lg);
            margin: 3rem 0;
        }

        .cta-section h3 {
            color: white;
            margin-top: 0;
        }

        .cta-section ol {
            margin: 1.5rem 0 2rem 1.5rem;
            color: rgba(255,255,255,0.8);
        }

        .cta-section li { margin-bottom: 0.5rem; }

        .cta-btn {
            display: inline-block;
            background: var(--accent-orange);
            color: white;
            padding: 0.9rem 2rem;
            border-radius: var(--radius-sm);
            font-weight: 600;
            text-decoration: none;
            transition: var(--transition);
        }

        .cta-btn:hover {
            background: #e64500;
            transform: translateY(-2px);
        }

        .cta-btn::after { display: none; }

        /* Footer */
        .footer {
            margin-top: 4rem;
            padding: 2rem 0;
            border-top: 1px solid var(--border-subtle);
            color: var(--text-secondary);
            font-size: 0.88rem;
        }

        .footer-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 2rem;
        }

        .footer-section h5 {
            color: var(--text-main);
            margin-bottom: 0.75rem;
            font-size: 0.9rem;
        }

        .footer-section p {
            margin-bottom: 0.5rem;
            font-size: 0.85rem;
        }

        /* Floating Elements */
        .mobile-menu-btn {
            display: none;
            position: fixed;
            top: 1rem;
            right: 1rem;
            z-index: 200;
            background: white;
            border: 1px solid var(--border-medium);
            padding: 0.6rem 1rem;
            border-radius: var(--radius-sm);
            cursor: pointer;
            font-family: var(--font-body);
            font-size: 0.9rem;
            box-shadow: var(--shadow-sm);
        }

        .back-to-top {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            background: var(--accent-orange);
            color: white;
            width: 48px;
            height: 48px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: var(--shadow-md);
            opacity: 0;
            pointer-events: none;
            transition: var(--transition);
            border: none;
            font-size: 1.2rem;
            z-index: 90;
        }

        .back-to-top.visible {
            opacity: 1;
            pointer-events: auto;
        }

        .back-to-top:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-hover);
        }

        .toast {
            position: fixed;
            bottom: 2rem;
            left: 50%;
            transform: translateX(-50%) translateY(100px);
            background: #333;
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 24px;
            font-size: 0.9rem;
            opacity: 0;
            pointer-events: none;
            transition: all 0.3s ease;
            z-index: 200;
            box-shadow: var(--shadow-md);
        }

        .toast.visible {
            opacity: 1;
            transform: translateX(-50%) translateY(0);
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            20% { transform: translateX(-6px); }
            40% { transform: translateX(6px); }
            60% { transform: translateX(-6px); }
            80% { transform: translateX(6px); }
        }

        /* ========================================
           RESPONSIVE
        ======================================== */
        @media (max-width: 1100px) {
            .split-layout {
                grid-template-columns: 1fr;
            }

            .sticky-code {
                position: static;
            }
        }

        @media (max-width: 768px) {
            .sidebar {
                transform: translateX(-100%);
                width: 85%;
                max-width: 300px;
                transition: transform 0.3s ease;
            }

            .sidebar.open {
                transform: translateX(0);
            }

            .sidebar-overlay {
                display: none;
                position: fixed;
                top: 0; left: 0; right: 0; bottom: 0;
                background: rgba(0,0,0,0.5);
                z-index: 99;
            }

            .sidebar-overlay.visible {
                display: block;
            }

            .main-content {
                margin-left: 0;
                padding: 5rem 1.5rem 3rem;
            }

            .mobile-menu-btn {
                display: block;
            }

            h1 { font-size: 2rem; }
            h2 { font-size: 1.6rem; }

            .concept-map {
                flex-direction: column;
                padding: 1.5rem;
            }

            .phase-arrow {
                transform: rotate(90deg);
            }

            .comparison-grid {
                grid-template-columns: 1fr;
            }

            .tab-header {
                flex-wrap: nowrap;
            }

            .tab-btn {
                padding: 0.75rem 1rem;
                font-size: 0.85rem;
            }

            .cta-section {
                padding: 2rem 1.5rem;
            }
        }

        /* Accessibility: Focus visible */
        :focus-visible {
            outline: 2px solid var(--path-indigo);
            outline-offset: 2px;
        }

        /* Skip link */
        .skip-link {
            position: absolute;
            top: -100px;
            left: 50%;
            transform: translateX(-50%);
            background: var(--text-main);
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: var(--radius-sm);
            z-index: 300;
            transition: top 0.2s ease;
        }

        .skip-link:focus {
            top: 1rem;
        }
    </style>
</head>
<body>
    <!-- Skip Link -->
    <a href="#main-content" class="skip-link">跳转至主要内容</a>

    <!-- Grid Background -->
    <div class="grid-bg" aria-hidden="true"></div>

    <!-- Sidebar Overlay (Mobile) -->
    <div class="sidebar-overlay" id="sidebarOverlay" onclick="closeSidebar()"></div>

    <!-- Mobile Menu Button -->
    <button class="mobile-menu-btn" onclick="toggleSidebar()" aria-label="切换导航菜单">
        ☰ 菜单
    </button>

    <div class="app-container">

        <!-- MODULE 1: Sidebar Navigation -->
        <nav class="sidebar" id="sidebar" aria-label="主导航">
            <a href="#hero" class="sidebar-logo">Design OS</a>

            <p class="nav-section-title">快速入门</p>
            <ul class="nav-list">
                <li class="nav-item"><a href="#hero" class="nav-link">简介</a></li>
                <li class="nav-item"><a href="#objectives" class="nav-link">学习目标</a></li>
                <li class="nav-item"><a href="#tldr" class="nav-link">内容概要</a></li>
                <li class="nav-item"><a href="#concept" class="nav-link">工作流程图</a></li>
            </ul>

            <p class="nav-section-title">核心概念</p>
            <ul class="nav-list">
                <li class="nav-item"><a href="#foundations" class="nav-link">基础知识</a></li>
                <li class="nav-item"><a href="#phase1" class="nav-link">阶段一：规划</a></li>
                <li class="nav-item"><a href="#phase2" class="nav-link">阶段二：设计</a></li>
                <li class="nav-item"><a href="#phase3" class="nav-link">阶段三：导出</a></li>
            </ul>

            <p class="nav-section-title">实践指南</p>
            <ul class="nav-list">
                <li class="nav-item"><a href="#patterns" class="nav-link">最佳实践</a></li>
                <li class="nav-item"><a href="#examples" class="nav-link">完整示例</a></li>
                <li class="nav-item"><a href="#vocabulary" class="nav-link">术语表</a></li>
                <li class="nav-item"><a href="#troubleshooting" class="nav-link">故障排除</a></li>
            </ul>

            <p class="nav-section-title">参考资料</p>
            <ul class="nav-list">
                <li class="nav-item"><a href="#cheatsheet" class="nav-link">命令速查表</a></li>
                <li class="nav-item"><a href="#assessment" class="nav-link">自我测评</a></li>
                <li class="nav-item"><a href="#action" class="nav-link">后续步骤</a></li>
            </ul>

            <div class="sidebar-progress">
                <p class="sidebar-progress-label">阅读进度</p>
                <div class="progress-track">
                    <div class="progress-fill" id="progressBar"></div>
                </div>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="main-content" id="main-content">

            <!-- MODULE 2: Hero Section -->
            <section id="hero" aria-labelledby="hero-title">
                <div class="badge-group">
                    <span class="badge badge-difficulty">中级</span>
                    <span class="badge badge-time">阅读时长 25 分钟</span>
                    <span class="badge badge-prereq">前置要求：Node.js、React 基础</span>
                </div>

                <h1 id="hero-title">AI 驱动产品设计的<br><span style="color: var(--accent-orange);">操作系统</span></h1>

                <p style="font-size: 1.2rem; max-width: 700px; margin-top: 1.5rem;">
                    通过结构化的 AI 工作流，将模糊的产品想法转化为生产就绪的 React 组件。Design OS 通过 Claude Code 斜杠命令，引导你完成从愿景到导出的每一步。
                </p>

                <div style="margin-top: 2.5rem; display: flex; flex-wrap: wrap; gap: 1rem;">
                    <a href="#examples" class="cta-btn">开始交互式实验</a>
                    <a href="https://github.com/buildermethods/design-os" target="_blank" rel="noopener noreferrer" style="padding: 0.9rem 1.5rem; color: var(--text-main); font-weight: 500;">
                        在 GitHub 查看 →
                    </a>
                </div>
            </section>

            <!-- MODULE 3: Learning Objectives -->
            <section id="objectives" aria-labelledby="objectives-title">
                <h2 id="objectives-title">
                    <a href="#objectives" class="anchor-link" aria-hidden="true">#</a>
                    学习目标
                </h2>

                <ul class="objectives-list">
                    <li>
                        <span class="check" aria-hidden="true">✓</span>
                        <span>使用 Node.js 与 Claude Code 在本地搭建并配置 Design OS 环境</span>
                    </li>
                    <li>
                        <span class="check" aria-hidden="true">✓</span>
                        <span>按顺序执行 5 个核心规划指令，完成产品愿景、路线图与设计系统定义</span>
                    </li>
                    <li>
                        <span class="check" aria-hidden="true">✓</span>
                        <span>生成带 TypeScript 类型与样例数据的可投产 React 组件</span>
                    </li>
                    <li>
                        <span class="check" aria-hidden="true">✓</span>
                        <span>诊断并修复常见的 AI 生成错误</span>
                    </li>
                    <li>
                        <span class="check" aria-hidden="true">✓</span>
                        <span>导出完整交付包，支持渐进式或一站式落地</span>
                    </li>
                </ul>
            </section>

            <!-- MODULE 4: TL;DR Summary -->
            <section id="tldr" aria-labelledby="tldr-title">
                <h2 id="tldr-title">
                    <a href="#tldr" class="anchor-link" aria-hidden="true">#</a>
                    TL;DR
                </h2>

                <div class="card card-tldr">
                    <h4>30 秒核心概念</h4>
                    <p>
                        Design OS 通过<strong>结构化的三阶段指令工作流</strong>消除“空白页综合症”。你提供产品愿景并回答交互式提问，它会自动生成设计系统、数据模型、应用壳以及 React 组件。按顺序运行斜杠命令、审阅输出并迭代，最后导出可投产的代码包与实现提示词。
                    </p>
                </div>
            </section>

            <!-- MODULE 5: Concept Map -->
            <section id="concept" aria-labelledby="concept-title">
                <h2 id="concept-title">
                    <a href="#concept" class="anchor-link" aria-hidden="true">#</a>
                    工作流总览
                </h2>

                <p>Design OS 是一个线性流程，每个阶段都基于前一阶段的成果。在进入第二阶段前务必完成第一阶段的全部步骤。</p>

                <div class="concept-map" role="img" aria-label="Design OS 工作流：阶段一（规划）→ 阶段二（设计）→ 阶段三（导出）">
                    <div class="phase-node">
                        <h4>阶段一：规划</h4>
                        <p>建立基础</p>
                        <code>/product-vision</code>
                        <code>/product-roadmap</code>
                        <code>/data-model</code>
                        <code>/design-tokens</code>
                        <code>/design-shell</code>
                    </div>
                    <div class="phase-arrow" aria-hidden="true">→</div>
                    <div class="phase-node">
                        <h4>阶段二：设计</h4>
                        <p>迭代完成各分区的界面</p>
                        <code>/shape-section</code>
                        <code>/sample-data</code>
                        <code>/design-screen</code>
                        <code>/screenshot-design</code>
                    </div>
                    <div class="phase-arrow" aria-hidden="true">→</div>
                    <div class="phase-node">
                        <h4>阶段三：导出</h4>
                        <p>生成交付包</p>
                        <code>/export-product</code>
                    </div>
                </div>

                <p style="text-align: center; font-size: 0.9rem; color: var(--text-secondary);">
                    <strong>重要：</strong>第二阶段是循环的——路线图中的每个分区都要重复这一套步骤。
                </p>
            </section>

            <!-- MODULE 6: Foundations -->
            <section id="foundations" aria-labelledby="foundations-title">
                <h2 id="foundations-title">
                    <a href="#foundations" class="anchor-link" aria-hidden="true">#</a>
                    基础
                </h2>

                <h3>前置条件</h3>
                <p>开始使用 Design OS 前，请确保你具备：</p>
                <ul style="margin-left: 1.5rem; margin-bottom: 2rem;">
                    <li>已安装 <strong>Node.js v18+</strong> 与 npm</li>
                    <li><strong>一款 AI 编码代理</strong> —— 推荐 Claude Code（Design OS 自带定制斜杠命令）</li>
                    <li>对 React 与组件化架构有基本了解</li>
                </ul>

                <h3>关键概念</h3>
                <div class="vocab-grid">
                    <div class="vocab-card">
                        <div class="vocab-term">
                            <span class="term" data-def="应用中的明确区域，如“仪表盘”或“用户设置”，每个分区都会成为导航项。">Section（分区）</span>
                        </div>
                        <div class="vocab-def">核心工作单元。通常由 3-5 个分区组成，可独立设计。</div>
                    </div>
                    <div class="vocab-card">
                        <div class="vocab-term">
                            <span class="term" data-def="保障一致性的原子化视觉样式值，包括颜色、字体、间距等。">Design Tokens（设计令牌）</span>
                        </div>
                        <div class="vocab-def">以 CSS 自定义属性与 Tailwind 配置形式定义视觉语言。</div>
                    </div>
                    <div class="vocab-card">
                        <div class="vocab-term">
                            <span class="term" data-def="用 TypeScript 接口描述用户、项目、账单等实体的结构。">Data Model（数据模型）</span>
                        </div>
                        <div class="vocab-def">系统中的“名词”——用户创建、查看、管理的各类实体。</div>
                    </div>
                    <div class="vocab-card">
                        <div class="vocab-term">
                            <span class="term" data-def="包裹所有分区内容的持久化导航与布局组件。">Application Shell（应用壳）</span>
                        </div>
                        <div class="vocab-def">侧边栏、顶部导航或极简页头，为产品提供一致的导航结构。</div>
                    </div>
                </div>

                <h3>常见误区</h3>
                <div class="card" style="border-left: 4px solid var(--warning);">
                    <p style="margin-bottom: 0.75rem;"><strong>❌ “Design OS 会生成后端代码”</strong></p>
                    <p style="margin-bottom: 0;">Design OS 只覆盖前端设计层。后端可任意选择（Rails、Laravel、Next.js API Routes、Python、Go 等）。导出的组件通过 props 接收数据与回调。</p>
                </div>
                <div class="card" style="border-left: 4px solid var(--warning);">
                    <p style="margin-bottom: 0.75rem;"><strong>❌ “步骤可以跳过或任意顺序执行”</strong></p>
                    <p style="margin-bottom: 0;">每个命令都依赖前一步的产物。未先运行 <code>/shape-section</code> 就执行 <code>/design-screen</code> 会导致输出混乱。</p>
                </div>
            </section>

            <!-- MODULE 7: Detailed Explanations - Phase 1 -->
            <section id="phase1" aria-labelledby="phase1-title">
                <h2 id="phase1-title">
                    <a href="#phase1" class="anchor-link" aria-hidden="true">#</a>
                    阶段一：产品规划
                </h2>

                <p>在动手设计界面前先打好基础。这 5 个命令必须按顺序执行。</p>

                <!-- Command 1: Product Vision -->
                <article class="split-layout">
                    <div>
                        <h3>1. 产品愿景（Product Vision）</h3>

                        <p><strong>WHY：</strong>AI 需要上下文。本命令会创建产品概览文件，作为后续生成的锚点；没有它，AI 无法理解你要做什么。</p>

                        <p><strong>HOW：</strong>运行命令并按提示回答产品名称、描述、要解决的问题、核心特性等问题。越具体越好，模糊输入只会产生模糊输出。</p>

                        <p><strong>WHEN：</strong>永远第一步——所有 Design OS 项目的 0 号步骤。</p>

                        <div class="card" style="background: #f8f9fa; border-left: 4px solid var(--path-indigo);">
                            <p style="margin-bottom: 0.5rem;"><strong>生成：</strong></p>
                            <code>product/product-overview.md</code>
                        </div>
                    </div>
                    <aside class="sticky-code" aria-label="Terminal example for product vision command">
                        <div class="sticky-code-header">
                            <span>终端示例</span>
                            <button class="copy-btn" onclick="copyCode(this)" aria-label="Copy code">复制</button>
                        </div>
                        <div class="code-content">
<span class="terminal-prompt"></span>/product-vision

<span class="comment"># AI 提问：</span>
<span class="terminal-output">? 产品名称是什么？</span>
<span class="string">SolarTrack Pro</span>

<span class="terminal-output">? 用 1-3 句话描述你的产品：</span>
<span class="string">一个帮助房主监控太阳能板效率和节能收益的仪表盘。</span>

<span class="terminal-output">? 它解决哪些问题？</span>
<span class="string">用户难以直观看出面板是否低效运行……</span>

<span class="terminal-success">✔ 已创建 product/product-overview.md</span>
                        </div>
                    </aside>
                </article>

                <!-- Command 2: Product Roadmap -->
                <article class="split-layout">
                    <div>
                        <h3>2. 产品路线图（Product Roadmap）</h3>

                        <p><strong>WHY：</strong>把产品拆分为 3-5 个可管理的分区。每个分区都会成为导航项，并可独立设计。</p>

                        <p><strong>HOW：</strong>AI 会依据产品概览给出分区建议。一起讨论顺序——首个分区应覆盖核心功能，其余在此基础上递进。</p>

                        <p><strong>WHEN：</strong>在完成产品愿景后立刻进行。</p>

                        <div class="card" style="background: #f8f9fa; border-left: 4px solid var(--path-indigo);">
                            <p style="margin-bottom: 0.5rem;"><strong>生成：</strong></p>
                            <code>product/product-roadmap.md</code>
                        </div>
                    </div>
                    <aside class="sticky-code" aria-label="Terminal example for product roadmap command">
                        <div class="sticky-code-header">
                            <span>终端示例</span>
                            <button class="copy-btn" onclick="copyCode(this)" aria-label="Copy code">复制</button>
                        </div>
                        <div class="code-content">
<span class="terminal-prompt"></span>/product-roadmap

<span class="comment"># AI 建议的分区：</span>
<span class="terminal-output">基于你的愿景，推荐：</span>
<span class="terminal-output">1. Dashboard（核心指标）</span>
<span class="terminal-output">2. Panel Management（设备配置）</span>
<span class="terminal-output">3. Reports（历史数据）</span>
<span class="terminal-output">4. Settings（用户偏好）</span>

<span class="terminal-output">? 这个顺序可以吗？</span>
<span class="string">可以，但把 “Panel Management” 改名为 “Devices”</span>

<span class="terminal-success">✔ 已创建 product/product-roadmap.md</span>
                        </div>
                    </aside>
                </article>

                <!-- Command 3: Data Model -->
                <article class="split-layout">
                    <div>
                        <h3>3. 数据模型（Data Model）</h3>

                        <p><strong>WHY：</strong>定义系统里的“名词”——如 User、Device、Reading、Report，保证各分区的数据结构一致。</p>

                        <p><strong>HOW：</strong>关注概念而非数据库表。用自然语言描述实体，AI 会追问关系（1 对多、多对多）。</p>

                        <p><strong>WHEN：</strong>在路线图之后、设计令牌之前完成。</p>

                        <div class="card" style="background: #f8f9fa; border-left: 4px solid var(--path-indigo);">
                            <p style="margin-bottom: 0.5rem;"><strong>生成：</strong></p>
                            <code>product/data-model/data-model.md</code>
                        </div>
                    </div>
                    <aside class="sticky-code" aria-label="Terminal example for data model command">
                        <div class="sticky-code-header">
                            <span>终端示例</span>
                            <button class="copy-btn" onclick="copyCode(this)" aria-label="Copy code">复制</button>
                        </div>
                        <div class="code-content">
<span class="terminal-prompt"></span>/data-model

<span class="terminal-output">? 用户会接触的主要实体有哪些？</span>
<span class="string">User、Device（太阳能板）、Reading、Alert</span>

<span class="terminal-output">? 它们之间的关系？</span>
<span class="string">一个 User 拥有多个 Device；每个 Device 拥有多条 Reading；Alert 归属于某个 Device。</span>

<span class="comment"># 输出示例：</span>
<span class="keyword">interface</span> Device {
  id: <span class="keyword">string</span>;
  userId: <span class="keyword">string</span>;
  name: <span class="keyword">string</span>;
  installedDate: <span class="keyword">Date</span>;
}
                        </div>
                    </aside>
                </article>

                <!-- Command 4 & 5: Design Tokens & Shell -->
                <article class="split-layout">
                    <div>
                        <h3>4. 设计令牌（Design Tokens）</h3>

                        <p><strong>WHY：</strong>在编写组件前先确定视觉身份（色彩与字体），确保全局一致性。</p>

                        <p><strong>HOW：</strong>从 Tailwind 调色板（blue、indigo、emerald 等）与 Google Fonts 中选择。AI 会根据产品类型给出组合建议。</p>

                        <h3>5. 应用壳（Application Shell）</h3>

                        <p><strong>WHY：</strong>创建包裹所有分区的持久导航与布局，让用户在全局拥有一致的导航体验。</p>

                        <p><strong>HOW：</strong>选择壳模式：侧边栏导航（仪表盘类）、顶部导航（简易应用）或极简页头（单一用途工具）。</p>
                    </div>
                    <aside class="sticky-code" aria-label="Terminal example for design tokens and shell commands">
                        <div class="sticky-code-header">
                            <span>终端示例</span>
                            <button class="copy-btn" onclick="copyCode(this)" aria-label="Copy code">复制</button>
                        </div>
                        <div class="code-content">
<span class="terminal-prompt"></span>/design-tokens

<span class="terminal-output">? 主色调：</span>
<span class="string">emerald</span>
<span class="terminal-output">? 标题字体：</span>
<span class="string">DM Sans</span>

<span class="terminal-success">✔ 已创建 tokens.css</span>
<span class="terminal-success">✔ 已创建 tailwind-colors.md</span>

<span class="terminal-prompt"></span>/design-shell

<span class="terminal-output">? 导航模式：</span>
<span class="string">Sidebar Navigation</span>

<span class="terminal-success">✔ 已创建 AppShell.tsx</span>
<span class="terminal-success">✔ 已创建 MainNav.tsx</span>
<span class="terminal-success">✔ 已创建 UserMenu.tsx</span>
                        </div>
                    </aside>
                </article>
            </section>

            <!-- MODULE 7: Detailed Explanations - Phase 2 -->
            <section id="phase2" aria-labelledby="phase2-title">
                <h2 id="phase2-title">
                    <a href="#phase2" class="anchor-link" aria-hidden="true">#</a>
                    阶段二：分区设计
                </h2>

                <p>此阶段是循环的，对路线图中的每个分区重复执行这些命令。</p>

                <div class="card card-tldr" style="margin-bottom: 2rem;">
                    <h4 style="margin-top: 0;">分区设计循环</h4>
                    <p style="margin-bottom: 0;">
                        <strong>Shape Section</strong> → <strong>Sample Data</strong> → <strong>Design Screen</strong> → （可选：<strong>Screenshot</strong>）→ 继续下一个分区
                    </p>
                </div>

                <!-- Shape Section -->
                <article class="split-layout">
                    <div>
                        <h3>1. Shape Section（分区定型）</h3>

                        <p><strong>WHY：</strong>在写任何代码前先定义该分区的功能需求，相当于分区的规格文档。</p>

                        <p><strong>HOW：</strong>回答分区用途、主要用户流程（关键动作）以及 UI 要求。还需说明该分区是否使用应用壳或是独立页面。</p>

                        <p><strong>WHEN：</strong>设计每个分区的起点。</p>

                        <div class="card" style="background: #f8f9fa; border-left: 4px solid var(--path-indigo);">
                            <p style="margin-bottom: 0.5rem;"><strong>生成：</strong></p>
                            <code>product/sections/[section-id]/spec.md</code>
                        </div>
                    </div>
                    <aside class="sticky-code">
                        <div class="sticky-code-header">
                            <span>终端示例</span>
                            <button class="copy-btn" onclick="copyCode(this)">复制</button>
                        </div>
                        <div class="code-content">
<span class="terminal-prompt"></span>/shape-section

<span class="terminal-output">? 哪个分区：</span> <span class="string">Dashboard</span>

<span class="terminal-output">? 这个分区的用途？</span>
<span class="string">展示实时指标与告警</span>

<span class="terminal-output">? 主要用户流程：</span>
<span class="string">1. 查看今日能量输出</span>
<span class="string">2. 查看当前告警</span>
<span class="string">3. 跳转到设备详情</span>

<span class="terminal-success">✔ 已创建 spec.md</span>
                        </div>
                    </aside>
                </article>

                <!-- Sample Data -->
                <article class="split-layout">
                    <div>
                        <h3>2. Sample Data（样例数据）</h3>

                        <p><strong>WHY：</strong>生成逼真的模拟数据，使 UI 在无后端情况下也能开发与测试，同时生成 TypeScript 接口确保类型安全。</p>

                        <p><strong>HOW：</strong>AI 读取分区规格，提出数据结构，并生成 5-10 条真实且包含边界情况的样例记录。</p>

                        <p><strong>WHEN：</strong>在 Shape Section 之后、Design Screen 之前。</p>

                        <div class="card" style="background: #f8f9fa; border-left: 4px solid var(--path-indigo);">
                            <p style="margin-bottom: 0.5rem;"><strong>生成：</strong></p>
                            <code>product/sections/[section-id]/data.json</code><br>
                            <code>product/sections/[section-id]/types.ts</code>
                        </div>
                    </div>
                    <aside class="sticky-code">
                        <div class="sticky-code-header">
                            <span>TypeScript 输出</span>
                            <button class="copy-btn" onclick="copyCode(this)">复制</button>
                        </div>
                        <div class="code-content">
<span class="comment">// types.ts</span>
<span class="keyword">export interface</span> DashboardProps {
  devices: Device[];
  alerts: Alert[];
  todayOutput: EnergyReading;

  <span class="comment">// 行为回调</span>
  onViewDevice: (id: <span class="keyword">string</span>) => <span class="keyword">void</span>;
  onDismissAlert: (id: <span class="keyword">string</span>) => <span class="keyword">void</span>;
}

<span class="comment">// data.json 示例：</span>
{
  <span class="string">"devices"</span>: [
    { <span class="string">"id"</span>: <span class="string">"d_001"</span>, <span class="string">"name"</span>: <span class="string">"Roof Array A"</span> },
    { <span class="string">"id"</span>: <span class="string">"d_002"</span>, <span class="string">"name"</span>: <span class="string">"Garage Panels"</span> }
  ]
}
                        </div>
                    </aside>
                </article>

                <!-- Design Screen -->
                <article class="split-layout">
                    <div>
                        <h3>3. Design Screen（界面设计）</h3>

                        <p><strong>WHY：</strong>让规格与样例数据落地为可运行的 React UI，AI 会生成具备完整样式的投产组件。</p>

                        <p><strong>HOW：</strong>AI 读取规格，创建通过 props 接收数据与回调的组件。若分区存在多视图（列表/详情/表单），可多次运行。</p>

                        <p><strong>WHEN：</strong>生成样例数据之后。</p>

                        <h4>会生成什么</h4>
                        <ul style="margin-left: 1.5rem;">
                            <li><strong>可导出的组件</strong> —— 基于 Props，可移植到任意 React 项目</li>
                            <li><strong>预览封装</strong> —— 在 Design OS 中导入样例数据便于测试</li>
                            <li>完整 Tailwind 样式与响应式断点</li>
                            <li>通过 <code>dark:</code> 变体支持深浅色模式</li>
                        </ul>
                    </div>
                    <aside class="sticky-code">
                        <div class="sticky-code-header">
                            <span>组件输出</span>
                            <button class="copy-btn" onclick="copyCode(this)">复制</button>
                        </div>
                        <div class="code-content">
<span class="comment">// Dashboard.tsx</span>
<span class="keyword">export function</span> <span class="function">Dashboard</span>({
  devices,
  alerts,
  todayOutput,
  onViewDevice,
  onDismissAlert
}: DashboardProps) {
  <span class="keyword">return</span> (
    &lt;div className=<span class="string">"grid gap-6"</span>&gt;
      &lt;MetricsCard
        output={todayOutput}
      /&gt;
      &lt;DeviceList
        devices={devices}
        onSelect={onViewDevice}
      /&gt;
      &lt;AlertPanel
        alerts={alerts}
        onDismiss={onDismissAlert}
      /&gt;
    &lt;/div&gt;
  );
}
                        </div>
                    </aside>
                </article>

                <div class="card" style="border-left: 4px solid var(--warning); margin-top: 2rem;">
                    <p style="margin-bottom: 0;"><strong>⚠️ 提醒：</strong>生成界面后请重启开发服务器（<code>npm run dev</code>）以便在浏览器中看到更新。</p>
                </div>
            </section>

            <!-- MODULE 7: Phase 3 -->
            <section id="phase3" aria-labelledby="phase3-title">
                <h2 id="phase3-title">
                    <a href="#phase3" class="anchor-link" aria-hidden="true">#</a>
                    阶段三：导出
                </h2>

                <p>当所有分区设计完成（或你准备交付时），生成完整的实现包。</p>

                <article class="split-layout">
                    <div>
                        <h3>何时导出</h3>
                        <p>符合以下条件即可导出：</p>
                        <ul style="margin-left: 1.5rem; margin-bottom: 1.5rem;">
                            <li>已完成产品愿景与路线图</li>
                            <li>至少有一个分区生成了界面</li>
                            <li>对当前设计方向满意</li>
                        </ul>
                        <p>导出并非一次性的——后续添加分区后可再次导出。</p>

                        <h3>导出内容</h3>
                        <ul style="margin-left: 1.5rem;">
                            <li><strong>可直接使用的提示词</strong> — 复制/粘贴到你的编码代理</li>
                            <li><strong>实现说明</strong> — 支持一站式或渐进式两种模式</li>
                            <li><strong>设计系统文件</strong> — tokens.css、fonts.md 等</li>
                            <li><strong>全部组件</strong> — 携带类型与样例数据</li>
                            <li><strong>测试指引</strong> — 每个分区的 TDD 规格</li>
                        </ul>
                    </div>
                    <aside class="sticky-code">
                        <div class="sticky-code-header">
                            <span>导出目录结构</span>
                            <button class="copy-btn" onclick="copyCode(this)">复制</button>
                        </div>
                        <div class="code-content">
<span class="terminal-prompt"></span>/export-product

<span class="terminal-success">✔ 正在检查前置条件...</span>
<span class="terminal-success">✔ 正在收集资源...</span>
<span class="terminal-success">✔ 正在生成说明...</span>

<span class="comment"># 输出结构：</span>
product-plan/
├── prompts/
│   ├── one-shot-prompt.md
│   └── section-prompt.md
├── instructions/
│   ├── one-shot-instructions.md
│   └── incremental/
│       ├── 01-foundation.md
│       ├── 02-shell.md
│       └── 03-dashboard.md
├── design-system/
├── data-model/
├── shell/
└── sections/
    └── dashboard/
        ├── components/
        ├── types.ts
        └── tests.md
                        </div>
                    </aside>
                </article>
            </section>

            <!-- MODULE 8: Anti-patterns vs Best Practices -->
            <section id="patterns" aria-labelledby="patterns-title">
                <h2 id="patterns-title">
                    <a href="#patterns" class="anchor-link" aria-hidden="true">#</a>
                    最佳实践 vs 反模式
                </h2>

                <div class="comparison-grid">
                    <div class="card card-do">
                        <h4>✓ 请务必：先检查类型</h4>
                        <p>运行 <code>/sample-data</code> 后先看 <code>types.ts</code>。数据结构错了，UI 必然跟着错；尽早发现问题。</p>
                        <pre style="margin: 0;"><code>// Verify entity shapes match your expectations
interface Device {
  id: string;
  status: 'active' | 'offline' | 'error';
}</code></pre>
                    </div>
                    <div class="card card-dont">
                        <h4>✗ 避免：手改临时生成文件</h4>
                        <p>不要手动修改 <code>.design-os/temp</code> 下的组件，下一次命令会覆盖。用斜杠命令来迭代。</p>
                        <pre style="margin: 0;"><code>// Bad: Manual edits in temp folder = lost work
// Good: Run /design-screen again with feedback</code></pre>
                    </div>
                    <div class="card card-do">
                        <h4>✓ 请务必：遵循顺序</h4>
                        <p>命令彼此依赖。先完成阶段一再进入阶段二；先 <code>/shape-section</code> 再 <code>/sample-data</code>。</p>
                    </div>
                    <div class="card card-dont">
                        <h4>✗ 避免：模糊输入</h4>
                        <p>AI 会映射你的具体程度。“一个做点东西的仪表盘”只会得到泛化输出；“用于实时监控太阳能板效率并提供设备级告警的仪表盘”才能得到贴合的组件。</p>
                    </div>
                </div>
            </section>

            <!-- MODULE 9: Complete Examples -->
            <section id="examples" aria-labelledby="examples-title">
                <h2 id="examples-title">
                    <a href="#examples" class="anchor-link" aria-hidden="true">#</a>
                    完整示例 ⭐
                </h2>

                <p>这是最重要的部分，展示 Design OS 在真实场景中的端到端使用方式。</p>

                <div class="tabs" role="tablist" aria-label="Example scenarios">
                    <div class="tab-header">
                        <button class="tab-btn active" onclick="openTab(event, 'basic')" role="tab" aria-selected="true" aria-controls="basic" id="tab-basic">基础流程</button>
                        <button class="tab-btn" onclick="openTab(event, 'edge')" role="tab" aria-selected="false" aria-controls="edge" id="tab-edge">边界案例</button>
                        <button class="tab-btn" onclick="openTab(event, 'advanced')" role="tab" aria-selected="false" aria-controls="advanced" id="tab-advanced">高级配置</button>
                        <button class="tab-btn" onclick="openTab(event, 'error')" role="tab" aria-selected="false" aria-controls="error" id="tab-error">错误恢复</button>
                    </div>

                    <!-- Tab 1: Basic -->
                    <div id="basic" class="tab-content active" role="tabpanel" aria-labelledby="tab-basic">
                        <h4>场景：构建完整的 “Settings” 分区</h4>
                        <p><strong>目标：</strong>打造包含密码修改与通知偏好的用户设置页。</p>

                        <h4>前置条件</h4>
                        <ul style="margin-left: 1.5rem; margin-bottom: 1.5rem;">
                            <li>已完成阶段一（愿景、路线图、设计令牌、应用壳）</li>
                            <li>产品路线图中已有 “Settings” 分区</li>
                        </ul>

                        <h4>操作步骤</h4>

                        <div class="terminal">
                            <div class="terminal-header">
                                <div class="terminal-dot red"></div>
                                <div class="terminal-dot yellow"></div>
                                <div class="terminal-dot green"></div>
                                <span class="terminal-title">终端 — Settings 分区</span>
                            </div>
                            <div class="terminal-body">
                                <div class="terminal-line terminal-comment"># 步骤 1：定义分区范围</div>
                                <div class="terminal-line"><span class="terminal-prompt"></span>/shape-section</div>
                                <div class="terminal-line terminal-output">? 分区名称：Settings</div>
                                <div class="terminal-line terminal-output">? 目的：允许用户修改密码与通知偏好</div>
                                <div class="terminal-line terminal-output">? 用户流程：</div>
                                <div class="terminal-line terminal-output">  1. 更新邮箱/密码</div>
                                <div class="terminal-line terminal-output">  2. 切换通知渠道</div>
                                <div class="terminal-line terminal-output">  3. 删除账号</div>
                                <div class="terminal-line terminal-success">✔ 已创建 product/sections/settings/spec.md</div>
                                <br>
                                <div class="terminal-line terminal-comment"># 步骤 2：生成样例数据</div>
                                <div class="terminal-line"><span class="terminal-prompt"></span>/sample-data</div>
                                <div class="terminal-line terminal-success">✔ 已创建包含 UserSettings 接口的 types.ts</div>
                                <div class="terminal-line terminal-success">✔ 已创建带样例偏好的 data.json</div>
                                <br>
                                <div class="terminal-line terminal-comment"># 步骤 3：生成 UI</div>
                                <div class="terminal-line"><span class="terminal-prompt"></span>/design-screen</div>
                                <div class="terminal-line terminal-output">? 哪个视图：Settings Main</div>
                                <div class="terminal-line terminal-success">✔ 生成 SettingsView.tsx</div>
                                <div class="terminal-line terminal-success">✔ 生成 ProfileForm.tsx</div>
                                <div class="terminal-line terminal-success">✔ 生成 NotificationToggle.tsx</div>
                                <br>
                                <div class="terminal-line terminal-comment"># 步骤 4：预览（先重启 dev server）</div>
                                <div class="terminal-line"><span class="terminal-prompt"></span>npm run dev</div>
                                <div class="terminal-line terminal-success">服务器已运行于 localhost:3000</div>
                            </div>
                        </div>

                        <h4>预期结果</h4>
                        <p>一个完整样式的 Settings 页面组件，接受 <code>currentUser</code>、<code>onUpdateProfile</code>、<code>onUpdateNotifications</code>、<code>onDeleteAccount</code> 等 props，包含表单校验与响应式布局。</p>

                        <h4>可选变体</h4>
                        <ul style="margin-left: 1.5rem;">
                            <li><strong>多标签设置：</strong>在 /shape-section 指定 Settings 包含 Profile、Notifications、Security 标签</li>
                            <li><strong>团队设置：</strong>如果应用有团队功能，在范围中加入团队管理流程</li>
                        </ul>
                    </div>

                    <!-- Tab 2: Edge Case -->
                    <div id="edge" class="tab-content" role="tabpanel" aria-labelledby="tab-edge">
                        <h4>场景：复杂数据可视化</h4>
                        <p><strong>问题：</strong>仪表盘需要图表，但 AI 可能生成与所用图表库不兼容的代码。</p>

                        <h4>解决方案</h4>
                        <p>在 <code>/product-vision</code> 中声明你的图表库，这样生成的组件都会保持兼容。</p>

                        <div class="terminal">
                            <div class="terminal-header">
                                <div class="terminal-dot red"></div>
                                <div class="terminal-dot yellow"></div>
                                <div class="terminal-dot green"></div>
                                <span class="terminal-title">终端 — 图表集成</span>
                            </div>
                            <div class="terminal-body">
                                <div class="terminal-line"><span class="terminal-prompt"></span>/product-vision</div>
                                <div class="terminal-line terminal-output">? 技术要求或约束：</div>
                                <div class="terminal-line" style="color: #ce9178;">"Use Recharts for all data visualization. Use date-fns for date formatting."</div>
                                <br>
                                <div class="terminal-line terminal-comment"># 之后设计仪表盘时：</div>
                                <div class="terminal-line"><span class="terminal-prompt"></span>/design-screen</div>
                                <div class="terminal-line terminal-output">AI 会生成兼容 Recharts 的组件：</div>
                                <div class="terminal-line terminal-success">✔ 生成 EnergyChart.tsx（使用 Recharts）</div>
                            </div>
                        </div>

                        <h4>关键洞察</h4>
                        <p>产品概览会被后续所有命令读取。越早声明库偏好，越能确保生成代码一致。</p>

                        <h4>其他边界情况</h4>
                        <ul style="margin-left: 1.5rem;">
                            <li><strong>空状态：</strong>在 /shape-section 指明“需优雅处理空数据”</li>
                            <li><strong>超长列表：</strong>在需求中写明“为 1000+ 条记录使用虚拟列表”</li>
                            <li><strong>无障碍：</strong>在愿景中写明“必须符合 WCAG 2.1 AA”</li>
                        </ul>
                    </div>

                    <!-- Tab 3: Advanced -->
                    <div id="advanced" class="tab-content" role="tabpanel" aria-labelledby="tab-advanced">
                        <h4>场景：渐进式实现策略</h4>
                        <p><strong>目标：</strong>利用导出包按分区受控落地，在每个里程碑间进行代码评审。</p>

                        <h4>前置条件</h4>
                        <ul style="margin-left: 1.5rem; margin-bottom: 1.5rem;">
                            <li>已通过 <code>/export-product</code> 完成导出</li>
                            <li>已将 <code>product-plan/</code> 复制到目标代码库</li>
                        </ul>

                        <h4>操作步骤</h4>

                        <div class="terminal">
                            <div class="terminal-header">
                                <div class="terminal-dot red"></div>
                                <div class="terminal-dot yellow"></div>
                                <div class="terminal-dot green"></div>
                                <span class="terminal-title">实现代理会话</span>
                            </div>
                            <div class="terminal-body">
                                <div class="terminal-line terminal-comment"># 里程碑 1：基础</div>
                                <div class="terminal-line terminal-output">打开：product-plan/prompts/section-prompt.md</div>
                                <div class="terminal-line terminal-output">设置 SECTION_NAME = "Foundation"</div>
                                <div class="terminal-line terminal-output">设置 NN = "01"</div>
                                <div class="terminal-line terminal-output">以 Plan Mode 递交提示词</div>
                                <br>
                                <div class="terminal-line terminal-comment"># 代理阅读指令并追问：</div>
                                <div class="terminal-line terminal-output">"认证方式？OAuth、JWT 还是 session？"</div>
                                <div class="terminal-line terminal-output">"单租户还是多租户？"</div>
                                <br>
                                <div class="terminal-line terminal-comment"># 澄清后，代理实施：</div>
                                <div class="terminal-line terminal-success">✔ 安装设计令牌</div>
                                <div class="terminal-line terminal-success">✔ 创建数据模型类型</div>
                                <div class="terminal-line terminal-success">✔ 配置路由</div>
                                <br>
                                <div class="terminal-line terminal-comment"># 评审、测试后进入里程碑 2...</div>
                            </div>
                        </div>

                        <h4>渐进式的好处</h4>
                        <ul style="margin-left: 1.5rem;">
                            <li>更易评审——在问题积累前就被发现</li>
                            <li>节奏灵活——分区之间可暂停</li>
                            <li>掌控力强——由你决定每个里程碑何时就绪</li>
                        </ul>
                    </div>

                    <!-- Tab 4: Error Recovery -->
                    <div id="error" class="tab-content" role="tabpanel" aria-labelledby="tab-error">
                        <h4>场景：AI 生成了无效代码</h4>
                        <p><strong>问题：</strong>生成的组件存在 TypeScript 错误或引用了未定义变量。</p>

                        <h4>修复步骤</h4>

                        <div class="terminal">
                            <div class="terminal-header">
                                <div class="terminal-dot red"></div>
                                <div class="terminal-dot yellow"></div>
                                <div class="terminal-dot green"></div>
                                <span class="terminal-title">终端 — 错误恢复</span>
                            </div>
                            <div class="terminal-body">
                                <div class="terminal-line terminal-comment"># 首次生成失败</div>
                                <div class="terminal-line"><span class="terminal-prompt"></span>/design-screen</div>
                                <div class="terminal-line terminal-success">✔ 生成 DashboardView.tsx</div>
                                <br>
                                <div class="terminal-line terminal-comment"># 运行开发服务器</div>
                                <div class="terminal-line"><span class="terminal-prompt"></span>npm run dev</div>
                                <div class="terminal-line terminal-error">✖ Error: Cannot find name 'UserData'</div>
                                <div class="terminal-line terminal-error">✖ Error: Property 'status' does not exist</div>
                                <br>
                                <div class="terminal-line terminal-comment"># 方案 1：携带错误上下文重跑</div>
                                <div class="terminal-line"><span class="terminal-prompt"></span>/design-screen</div>
                                <div class="terminal-line terminal-output">? 额外上下文：</div>
                                <div class="terminal-line" style="color: #ce9178;">“请修复这些错误：Cannot find name 'UserData'。Property 'status' does not exist on type Device.”</div>
                                <br>
                                <div class="terminal-line terminal-comment"># AI 分析并重新生成</div>
                                <div class="terminal-line terminal-success">✔ 重新生成 DashboardView.tsx</div>
                                <div class="terminal-line terminal-success">✔ 补充缺失的 types.ts 引用</div>
                                <div class="terminal-line terminal-success">✔ 修正属性引用</div>
                            </div>
                        </div>

                        <h4>预防建议</h4>
                        <ul style="margin-left: 1.5rem;">
                            <li><strong>在运行 /design-screen 前先审查 types.ts</strong></li>
                            <li><strong>在 /shape-section 明确数据结构</strong></li>
                            <li><strong>每次生成后都运行 dev server</strong>，尽早暴露错误</li>
                        </ul>

                        <h4>若仍无法解决</h4>
                        <p>删除生成文件，带更详细的上下文重跑命令。AI 在命令之间不保留记忆，提供完整错误信息有助于纠偏。</p>
                    </div>
                </div>
            </section>

            <!-- MODULE 10: Vocabulary Station -->
            <section id="vocabulary" aria-labelledby="vocabulary-title">
                <h2 id="vocabulary-title">
                    <a href="#vocabulary" class="anchor-link" aria-hidden="true">#</a>
                    术语速览
                </h2>

                <div class="vocab-grid">
                    <div class="vocab-card">
                        <div class="vocab-term">Slash Command（斜杠命令）</div>
                        <div class="vocab-def">以 “/” 开头的 Claude Code 命令，用于触发 Design OS 工作流。</div>
                    </div>
                    <div class="vocab-card">
                        <div class="vocab-term">Handoff Package（交付包）</div>
                        <div class="vocab-def">包含全部资源、提示词与实施说明的导出包。</div>
                    </div>
                    <div class="vocab-card">
                        <div class="vocab-term">Section Spec（分区规格）</div>
                        <div class="vocab-def">定义分区用途、用户流程与 UI 需求的 Markdown 文档。</div>
                    </div>
                    <div class="vocab-card">
                        <div class="vocab-term">Design Tokens（设计令牌）</div>
                        <div class="vocab-def">以 CSS 变量与 Tailwind 配置存储的原子化视觉值（颜色、字体、间距）。</div>
                    </div>
                    <div class="vocab-card">
                        <div class="vocab-term">Application Shell（应用壳）</div>
                        <div class="vocab-def">包裹分区内容的持久化导航/布局层（侧边栏、顶部导航等）。</div>
                    </div>
                    <div class="vocab-card">
                        <div class="vocab-term">Preview Wrapper（预览封装）</div>
                        <div class="vocab-def">在 Design OS 开发服务器中导入样例数据以渲染 UI 的封装组件。</div>
                    </div>
                    <div class="vocab-card">
                        <div class="vocab-term">One-Shot Implementation（一站式实现）</div>
                        <div class="vocab-def">在单次 AI 会话中用合并指令完成整个产品的构建。</div>
                    </div>
                    <div class="vocab-card">
                        <div class="vocab-term">Incremental Implementation（渐进式实现）</div>
                        <div class="vocab-def">按里程碑逐段构建，并在各分区之间进行评审。</div>
                    </div>
                </div>
            </section>

            <!-- MODULE 11: Troubleshooting -->
            <section id="troubleshooting" aria-labelledby="troubleshooting-title">
                <h2 id="troubleshooting-title">
                    <a href="#troubleshooting" class="anchor-link" aria-hidden="true">#</a>
                    故障排除
                </h2>

                <div class="accordion-item" onclick="toggleAccordion(this)">
                    <div class="accordion-header" role="button" aria-expanded="false" tabindex="0">
                        <span class="accordion-icon">▶</span>
                        <span><strong>症状：</strong> 颜色仍是默认灰/蓝，而非选择的调色板</span>
                    </div>
                    <div class="accordion-body">
                        <p><strong>原因：</strong> Tailwind 配置未更新，或开发服务器未重启。</p>
                        <p><strong>解决方案：</strong></p>
                        <ol style="margin-left: 1.5rem;">
                            <li>Re-run <code>/design-tokens</code> and verify <code>tailwind.config.js</code> was updated</li>
                            <li>Restart the dev server: <code>npm run dev</code></li>
                            <li>Hard refresh the browser (Cmd+Shift+R / Ctrl+Shift+R)</li>
                        </ol>
                    </div>
                </div>

                <div class="accordion-item" onclick="toggleAccordion(this)">
                    <div class="accordion-header" role="button" aria-expanded="false" tabindex="0">
                        <span class="accordion-icon">▶</span>
                        <span><strong>症状：</strong> 运行斜杠命令时报 “Command not found”</span>
                    </div>
                    <div class="accordion-body">
                        <p><strong>原因：</strong> 不在 Design OS 项目目录或 Claude Code 未启动。</p>
                        <p><strong>解决方案：</strong></p>
                        <ol style="margin-left: 1.5rem;">
                            <li>Verify you're in the project root: <code>ls .claude/commands</code></li>
                            <li>Start Claude Code: <code>claude</code></li>
                            <li>Try the command again</li>
                        </ol>
                    </div>
                </div>

                <div class="accordion-item" onclick="toggleAccordion(this)">
                    <div class="accordion-header" role="button" aria-expanded="false" tabindex="0">
                        <span class="accordion-icon">▶</span>
                        <span><strong>症状：</strong> 生成的组件存在 TypeScript 错误</span>
                    </div>
                    <div class="accordion-body">
                        <p><strong>原因：</strong> types.ts 与组件不匹配，或缺少导入。</p>
                        <p><strong>解决方案：</strong></p>
                        <ol style="margin-left: 1.5rem;">
                            <li>Check <code>types.ts</code> in the section folder—are interfaces correct?</li>
                            <li>Re-run <code>/design-screen</code> with error context: "Fix error: [paste error message]"</li>
                            <li>If persistent, re-run <code>/sample-data</code> first to regenerate types</li>
                        </ol>
                    </div>
                </div>

                <div class="accordion-item" onclick="toggleAccordion(this)">
                    <div class="accordion-header" role="button" aria-expanded="false" tabindex="0">
                        <span class="accordion-icon">▶</span>
                        <span><strong>症状：</strong> 导出结果缺少分区或组件</span>
                    </div>
                    <div class="accordion-body">
                        <p><strong>原因：</strong> 某些分区未完成（缺少规格、数据或界面）。</p>
                        <p><strong>解决方案：</strong></p>
                        <ol style="margin-left: 1.5rem;">
                            <li>Check <code>product/sections/</code> — each section should have spec.md, types.ts, and data.json</li>
                            <li>Check <code>src/sections/</code> — each section should have component files</li>
                            <li>Complete missing steps, then re-run <code>/export-product</code></li>
                        </ol>
                    </div>
                </div>
            </section>

            <!-- MODULE 12: Cheat Sheet -->
            <section id="cheatsheet" aria-labelledby="cheatsheet-title">
                <h2 id="cheatsheet-title">
                    <a href="#cheatsheet" class="anchor-link" aria-hidden="true">#</a>
                    命令速查表
                </h2>

                <div class="card" style="padding: 0; overflow: hidden;">
                    <table class="cheat-table">
                        <thead>
                            <tr>
                                <th>命令</th>
                                <th>阶段</th>
                                <th>生成</th>
                                <th></th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>/product-vision</code></td>
                                <td>1. 规划</td>
                                <td>product-overview.md</td>
                                <td><button class="cheat-copy-btn" onclick="copyText('/product-vision')">复制</button></td>
                            </tr>
                            <tr>
                                <td><code>/product-roadmap</code></td>
                                <td>1. 规划</td>
                                <td>product-roadmap.md</td>
                                <td><button class="cheat-copy-btn" onclick="copyText('/product-roadmap')">复制</button></td>
                            </tr>
                            <tr>
                                <td><code>/data-model</code></td>
                                <td>1. 规划</td>
                                <td>data-model.md</td>
                                <td><button class="cheat-copy-btn" onclick="copyText('/data-model')">复制</button></td>
                            </tr>
                            <tr>
                                <td><code>/design-tokens</code></td>
                                <td>1. 规划</td>
                                <td>colors.json, typography.json</td>
                                <td><button class="cheat-copy-btn" onclick="copyText('/design-tokens')">复制</button></td>
                            </tr>
                            <tr>
                                <td><code>/design-shell</code></td>
                                <td>1. 规划</td>
                                <td>AppShell.tsx, MainNav.tsx, UserMenu.tsx</td>
                                <td><button class="cheat-copy-btn" onclick="copyText('/design-shell')">复制</button></td>
                            </tr>
                            <tr>
                                <td><code>/shape-section</code></td>
                                <td>2. 设计</td>
                                <td>sections/[id]/spec.md</td>
                                <td><button class="cheat-copy-btn" onclick="copyText('/shape-section')">复制</button></td>
                            </tr>
                            <tr>
                                <td><code>/sample-data</code></td>
                                <td>2. 设计</td>
                                <td>data.json, types.ts</td>
                                <td><button class="cheat-copy-btn" onclick="copyText('/sample-data')">复制</button></td>
                            </tr>
                            <tr>
                                <td><code>/design-screen</code></td>
                                <td>2. 设计</td>
                                <td>[Component].tsx files</td>
                                <td><button class="cheat-copy-btn" onclick="copyText('/design-screen')">复制</button></td>
                            </tr>
                            <tr>
                                <td><code>/screenshot-design</code></td>
                                <td>2. 设计</td>
                                <td>[screen-name].png</td>
                                <td><button class="cheat-copy-btn" onclick="copyText('/screenshot-design')">复制</button></td>
                            </tr>
                            <tr>
                                <td><code>/export-product</code></td>
                                <td>3. 导出</td>
                                <td>product-plan/ folder + .zip</td>
                                <td><button class="cheat-copy-btn" onclick="copyText('/export-product')">复制</button></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- MODULE 13: Self-Assessment -->
            <section id="assessment" aria-labelledby="assessment-title">
                <h2 id="assessment-title">
                    <a href="#assessment" class="anchor-link" aria-hidden="true">#</a>
                    自我测评
                </h2>

                <p>在真实项目中使用前先检验你的理解。</p>

                <!-- Question 1 -->
                <div class="card" id="quiz1">
                    <p class="quiz-question">Q1：何时定义 Design Tokens？</p>
                    <div class="quiz-options">
                        <button class="quiz-option" onclick="checkAnswer(this, false, 'quiz1-feedback')">项目最后再定义</button>
                        <button class="quiz-option" onclick="checkAnswer(this, true, 'quiz1-feedback')">阶段一，完成路线图后</button>
                        <button class="quiz-option" onclick="checkAnswer(this, false, 'quiz1-feedback')">在 React 组件里手动定义</button>
                    </div>
                    <div id="quiz1-feedback" class="quiz-feedback" style="display: none;"></div>
                </div>

                <!-- Question 2 -->
                <div class="card" id="quiz2">
                    <p class="quiz-question">Q2：若在 /sample-data 之前运行 /design-screen 会怎样？</p>
                    <div class="quiz-options">
                        <button class="quiz-option" onclick="checkAnswer(this, false, 'quiz2-feedback')">不会有问题，数据会自动生成</button>
                        <button class="quiz-option" onclick="checkAnswer(this, false, 'quiz2-feedback')">组件会生成但没有任何 props</button>
                        <button class="quiz-option" onclick="checkAnswer(this, true, 'quiz2-feedback')">AI 缺少上下文，可能产生错误或错误类型</button>
                    </div>
                    <div id="quiz2-feedback" class="quiz-feedback" style="display: none;"></div>
                </div>

                <!-- Question 3 -->
                <div class="card" id="quiz3">
                    <p class="quiz-question">Q3：“Preview Wrapper” 组件的作用是什么？</p>
                    <div class="quiz-options">
                        <button class="quiz-option" onclick="checkAnswer(this, false, 'quiz3-feedback')">这是用户看到的生产组件</button>
                        <button class="quiz-option" onclick="checkAnswer(this, true, 'quiz3-feedback')">在 Design OS 开发服务器中导入样例数据用于渲染</button>
                        <button class="quiz-option" onclick="checkAnswer(this, false, 'quiz3-feedback')">处理认证与路由</button>
                    </div>
                    <div id="quiz3-feedback" class="quiz-feedback" style="display: none;"></div>
                </div>

                <!-- Question 4 -->
                <div class="card" id="quiz4">
                    <p class="quiz-question">Q4：复杂的大型产品应采用哪种实现方式？</p>
                    <div class="quiz-options">
                        <button class="quiz-option" onclick="checkAnswer(this, true, 'quiz4-feedback')">渐进式——按里程碑推进并在其间评审</button>
                        <button class="quiz-option" onclick="checkAnswer(this, false, 'quiz4-feedback')">一站式——一次性完成全部</button>
                        <button class="quiz-option" onclick="checkAnswer(this, false, 'quiz4-feedback')">跳过提示词直接复制组件</button>
                    </div>
                    <div id="quiz4-feedback" class="quiz-feedback" style="display: none;"></div>
                </div>
            </section>

            <!-- MODULE 14: Action Steps -->
            <section id="action" aria-labelledby="action-title">
                <h2 id="action-title">
                    <a href="#action" class="anchor-link" aria-hidden="true">#</a>
                    后续步骤
                </h2>

                <div class="cta-section">
                    <h3>准备好动手了吗？</h3>
                    <ol>
                        <li>安装 Node.js v18+（如未安装）</li>
                        <li>克隆仓库：<code style="color: rgba(255,255,255,0.8); background: rgba(255,255,255,0.1);">git clone https://github.com/buildermethods/design-os.git my-project</code></li>
                        <li>运行 <code style="color: rgba(255,255,255,0.8); background: rgba(255,255,255,0.1);">npm install</code> 与 <code style="color: rgba(255,255,255,0.8); background: rgba(255,255,255,0.1);">npm run dev</code></li>
                        <li>启动 Claude Code：<code style="color: rgba(255,255,255,0.8); background: rgba(255,255,255,0.1);">claude</code></li>
                        <li>运行你的第一个命令：<code style="color: rgba(255,255,255,0.8); background: rgba(255,255,255,0.1);">/product-vision</code></li>
                    </ol>
                    <a href="https://github.com/buildermethods/design-os" target="_blank" rel="noopener noreferrer" class="cta-btn">
                        前往 GitHub 开始
                    </a>
                </div>

                <h3>延伸阅读</h3>
                <ul style="margin-left: 1.5rem;">
                    <li><a href="https://buildermethods.com/design-os/incremental-implementation" target="_blank" rel="noopener noreferrer">渐进式实现指南</a></li>
                    <li><a href="https://buildermethods.com/design-os/one-shot-implementation" target="_blank" rel="noopener noreferrer">一站式实现指南</a></li>
                    <li><a href="https://docs.anthropic.com/claude/docs/claude-code" target="_blank" rel="noopener noreferrer">Claude Code 文档</a></li>
                </ul>
            </section>

            <!-- MODULE 15: Footer Metadata -->
            <footer class="footer" role="contentinfo">
                <div class="footer-grid">
                    <div class="footer-section">
                        <h5>来源</h5>
                        <p><a href="https://github.com/buildermethods/design-os" target="_blank" rel="noopener noreferrer">github.com/buildermethods/design-os</a></p>
                    </div>
                    <div class="footer-section">
                        <h5>生成时间</h5>
                        <p>2026 年 1 月</p>
                    </div>
                    <div class="footer-section">
                        <h5>作者</h5>
                        <p>Builder Methods</p>
                    </div>
                    <div class="footer-section">
                        <h5>许可</h5>
                        <p>MIT License</p>
                    </div>
                </div>
            </footer>
        </main>
    </div>

    <!-- MODULE 16: Floating Elements -->
    <button class="back-to-top" id="backToTop" onclick="scrollToTop()" aria-label="返回顶部">
        ↑
    </button>

    <div class="toast" id="toast" role="status" aria-live="polite">
        已复制到剪贴板！
    </div>

    <script>
        // ========================================
        // SCROLLSPY & PROGRESS
        // ========================================
        const sections = document.querySelectorAll('section[id]');
        const navLinks = document.querySelectorAll('.nav-link');
        const progressBar = document.getElementById('progressBar');
        const backToTop = document.getElementById('backToTop');

        function updateScrollProgress() {
            const totalHeight = document.body.scrollHeight - window.innerHeight;
            const progress = (window.scrollY / totalHeight) * 100;
            progressBar.style.width = Math.min(progress, 100) + '%';

            // Back to top visibility
            if (window.scrollY > 500) {
                backToTop.classList.add('visible');
            } else {
                backToTop.classList.remove('visible');
            }

            // Active section
            let currentSection = '';
            sections.forEach(section => {
                const sectionTop = section.offsetTop - 150;
                if (window.scrollY >= sectionTop) {
                    currentSection = section.getAttribute('id');
                }
            });

            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href') === '#' + currentSection) {
                    link.classList.add('active');
                }
            });
        }

        window.addEventListener('scroll', updateScrollProgress);
        updateScrollProgress();

        function scrollToTop() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // ========================================
        // SIDEBAR MOBILE
        // ========================================
        function toggleSidebar() {
            document.getElementById('sidebar').classList.toggle('open');
            document.getElementById('sidebarOverlay').classList.toggle('visible');
        }

        function closeSidebar() {
            document.getElementById('sidebar').classList.remove('open');
            document.getElementById('sidebarOverlay').classList.remove('visible');
        }

        // Close sidebar when clicking a nav link on mobile
        navLinks.forEach(link => {
            link.addEventListener('click', () => {
                if (window.innerWidth < 768) {
                    closeSidebar();
                }
            });
        });

        // ========================================
        // TABS
        // ========================================
        function openTab(evt, tabName) {
            const tabContent = document.querySelectorAll('.tab-content');
            tabContent.forEach(tab => {
                tab.classList.remove('active');
                tab.style.display = 'none';
            });

            const tabBtns = document.querySelectorAll('.tab-btn');
            tabBtns.forEach(btn => {
                btn.classList.remove('active');
                btn.setAttribute('aria-selected', 'false');
            });

            document.getElementById(tabName).style.display = 'block';
            document.getElementById(tabName).classList.add('active');
            evt.currentTarget.classList.add('active');
            evt.currentTarget.setAttribute('aria-selected', 'true');
        }

        // Keyboard navigation for tabs
        document.querySelectorAll('.tab-btn').forEach((btn, index, btns) => {
            btn.addEventListener('keydown', (e) => {
                let newIndex;
                if (e.key === 'ArrowRight') {
                    newIndex = (index + 1) % btns.length;
                } else if (e.key === 'ArrowLeft') {
                    newIndex = (index - 1 + btns.length) % btns.length;
                } else {
                    return;
                }
                btns[newIndex].focus();
                btns[newIndex].click();
            });
        });

        // ========================================
        // ACCORDION
        // ========================================
        function toggleAccordion(item) {
            const isOpen = item.classList.contains('open');

            // Close all
            document.querySelectorAll('.accordion-item').forEach(i => {
                i.classList.remove('open');
                i.querySelector('.accordion-header').setAttribute('aria-expanded', 'false');
            });

            // Open clicked if it was closed
            if (!isOpen) {
                item.classList.add('open');
                item.querySelector('.accordion-header').setAttribute('aria-expanded', 'true');
            }
        }

        // Keyboard support for accordion
        document.querySelectorAll('.accordion-header').forEach(header => {
            header.addEventListener('keydown', (e) => {
                if (e.key === 'Enter' || e.key === ' ') {
                    e.preventDefault();
                    header.parentElement.click();
                }
            });
        });

        // ========================================
        // QUIZ
        // ========================================
        function checkAnswer(btn, isCorrect, feedbackId) {
            const options = btn.parentElement.querySelectorAll('.quiz-option');
            const feedback = document.getElementById(feedbackId);

            // Reset styles
            options.forEach(opt => {
                opt.classList.remove('correct', 'incorrect');
                opt.disabled = true;
            });

            if (isCorrect) {
                btn.classList.add('correct');
                feedback.className = 'quiz-feedback success';
                feedback.textContent = '✓ 回答正确！做得很好。';
            } else {
                btn.classList.add('incorrect');
                feedback.className = 'quiz-feedback error';
                feedback.textContent = '✗ 还不太对。回看相关章节后再试一次。';
            }

            feedback.style.display = 'block';
        }

        // ========================================
        // COPY FUNCTIONALITY
        // ========================================
        function copyText(text) {
            navigator.clipboard.writeText(text).then(() => {
                showToast();
            });
        }

        function copyCode(btn) {
            const codeBlock = btn.closest('.sticky-code').querySelector('.code-content');
            const text = codeBlock.innerText;
            navigator.clipboard.writeText(text).then(() => {
                showToast();
            });
        }

        function showToast() {
            const toast = document.getElementById('toast');
            toast.classList.add('visible');
            setTimeout(() => {
                toast.classList.remove('visible');
            }, 2000);
        }

        // ========================================
        // REDUCED MOTION
        // ========================================
        const prefersReducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)');
        if (prefersReducedMotion.matches) {
            document.documentElement.style.scrollBehavior = 'auto';
        }
    </script>
</body>
</html>
